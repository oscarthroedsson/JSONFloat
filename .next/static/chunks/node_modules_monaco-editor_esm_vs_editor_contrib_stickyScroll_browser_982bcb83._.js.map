{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport * as dom from '../../../../base/browser/dom.js';\nimport { createTrustedTypesPolicy } from '../../../../base/browser/trustedTypes.js';\nimport { equals } from '../../../../base/common/arrays.js';\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ThemeIcon } from '../../../../base/common/themables.js';\nimport './stickyScroll.css';\nimport { getColumnOfNodeOffset } from '../../../browser/viewParts/lines/viewLine.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { Position } from '../../../common/core/position.js';\nimport { StringBuilder } from '../../../common/core/stringBuilder.js';\nimport { LineDecoration } from '../../../common/viewLayout/lineDecorations.js';\nimport { RenderLineInput, renderViewLine } from '../../../common/viewLayout/viewLineRenderer.js';\nimport { foldingCollapsedIcon, foldingExpandedIcon } from '../../folding/browser/foldingDecorations.js';\nexport class StickyScrollWidgetState {\n    constructor(startLineNumbers, endLineNumbers, lastLineRelativePosition, showEndForLine = null) {\n        this.startLineNumbers = startLineNumbers;\n        this.endLineNumbers = endLineNumbers;\n        this.lastLineRelativePosition = lastLineRelativePosition;\n        this.showEndForLine = showEndForLine;\n    }\n    equals(other) {\n        return !!other\n            && this.lastLineRelativePosition === other.lastLineRelativePosition\n            && this.showEndForLine === other.showEndForLine\n            && equals(this.startLineNumbers, other.startLineNumbers)\n            && equals(this.endLineNumbers, other.endLineNumbers);\n    }\n    static get Empty() {\n        return new StickyScrollWidgetState([], [], 0);\n    }\n}\nconst _ttPolicy = createTrustedTypesPolicy('stickyScrollViewLayer', { createHTML: value => value });\nconst STICKY_INDEX_ATTR = 'data-sticky-line-index';\nconst STICKY_IS_LINE_ATTR = 'data-sticky-is-line';\nconst STICKY_IS_LINE_NUMBER_ATTR = 'data-sticky-is-line-number';\nconst STICKY_IS_FOLDING_ICON_ATTR = 'data-sticky-is-folding-icon';\nexport class StickyScrollWidget extends Disposable {\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._foldingIconStore = new DisposableStore();\n        this._rootDomNode = document.createElement('div');\n        this._lineNumbersDomNode = document.createElement('div');\n        this._linesDomNodeScrollable = document.createElement('div');\n        this._linesDomNode = document.createElement('div');\n        this._lineHeight = this._editor.getOption(67 /* EditorOption.lineHeight */);\n        this._renderedStickyLines = [];\n        this._lineNumbers = [];\n        this._lastLineRelativePosition = 0;\n        this._minContentWidthInPx = 0;\n        this._isOnGlyphMargin = false;\n        this._lineNumbersDomNode.className = 'sticky-widget-line-numbers';\n        this._lineNumbersDomNode.setAttribute('role', 'none');\n        this._linesDomNode.className = 'sticky-widget-lines';\n        this._linesDomNode.setAttribute('role', 'list');\n        this._linesDomNodeScrollable.className = 'sticky-widget-lines-scrollable';\n        this._linesDomNodeScrollable.appendChild(this._linesDomNode);\n        this._rootDomNode.className = 'sticky-widget';\n        this._rootDomNode.classList.toggle('peek', _editor instanceof EmbeddedCodeEditorWidget);\n        this._rootDomNode.appendChild(this._lineNumbersDomNode);\n        this._rootDomNode.appendChild(this._linesDomNodeScrollable);\n        const updateScrollLeftPosition = () => {\n            this._linesDomNode.style.left = this._editor.getOption(116 /* EditorOption.stickyScroll */).scrollWithEditor ? `-${this._editor.getScrollLeft()}px` : '0px';\n        };\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(116 /* EditorOption.stickyScroll */)) {\n                updateScrollLeftPosition();\n            }\n            if (e.hasChanged(67 /* EditorOption.lineHeight */)) {\n                this._lineHeight = this._editor.getOption(67 /* EditorOption.lineHeight */);\n            }\n        }));\n        this._register(this._editor.onDidScrollChange((e) => {\n            if (e.scrollLeftChanged) {\n                updateScrollLeftPosition();\n            }\n            if (e.scrollWidthChanged) {\n                this._updateWidgetWidth();\n            }\n        }));\n        this._register(this._editor.onDidChangeModel(() => {\n            updateScrollLeftPosition();\n            this._updateWidgetWidth();\n        }));\n        this._register(this._foldingIconStore);\n        updateScrollLeftPosition();\n        this._register(this._editor.onDidLayoutChange((e) => {\n            this._updateWidgetWidth();\n        }));\n        this._updateWidgetWidth();\n    }\n    get lineNumbers() {\n        return this._lineNumbers;\n    }\n    get lineNumberCount() {\n        return this._lineNumbers.length;\n    }\n    getRenderedStickyLine(lineNumber) {\n        return this._renderedStickyLines.find(stickyLine => stickyLine.lineNumber === lineNumber);\n    }\n    getCurrentLines() {\n        return this._lineNumbers;\n    }\n    setState(_state, foldingModel, _rebuildFromLine) {\n        if (_rebuildFromLine === undefined &&\n            ((!this._previousState && !_state) || (this._previousState && this._previousState.equals(_state)))) {\n            return;\n        }\n        const isWidgetHeightZero = this._isWidgetHeightZero(_state);\n        const state = isWidgetHeightZero ? undefined : _state;\n        const rebuildFromLine = isWidgetHeightZero ? 0 : this._findLineToRebuildWidgetFrom(_state, _rebuildFromLine);\n        this._renderRootNode(state, foldingModel, rebuildFromLine);\n        this._previousState = _state;\n    }\n    _isWidgetHeightZero(state) {\n        if (!state) {\n            return true;\n        }\n        const futureWidgetHeight = state.startLineNumbers.length * this._lineHeight + state.lastLineRelativePosition;\n        if (futureWidgetHeight > 0) {\n            this._lastLineRelativePosition = state.lastLineRelativePosition;\n            const lineNumbers = [...state.startLineNumbers];\n            if (state.showEndForLine !== null) {\n                lineNumbers[state.showEndForLine] = state.endLineNumbers[state.showEndForLine];\n            }\n            this._lineNumbers = lineNumbers;\n        }\n        else {\n            this._lastLineRelativePosition = 0;\n            this._lineNumbers = [];\n        }\n        return futureWidgetHeight === 0;\n    }\n    _findLineToRebuildWidgetFrom(state, _rebuildFromLine) {\n        if (!state || !this._previousState) {\n            return 0;\n        }\n        if (_rebuildFromLine !== undefined) {\n            return _rebuildFromLine;\n        }\n        const previousState = this._previousState;\n        const indexOfLinesAlreadyRendered = state.startLineNumbers.findIndex(startLineNumber => !previousState.startLineNumbers.includes(startLineNumber));\n        return (indexOfLinesAlreadyRendered === -1) ? 0 : indexOfLinesAlreadyRendered;\n    }\n    _updateWidgetWidth() {\n        const layoutInfo = this._editor.getLayoutInfo();\n        const lineNumbersWidth = layoutInfo.contentLeft;\n        this._lineNumbersDomNode.style.width = `${lineNumbersWidth}px`;\n        this._linesDomNodeScrollable.style.setProperty('--vscode-editorStickyScroll-scrollableWidth', `${this._editor.getScrollWidth() - layoutInfo.verticalScrollbarWidth}px`);\n        this._rootDomNode.style.width = `${layoutInfo.width - layoutInfo.verticalScrollbarWidth}px`;\n    }\n    _clearStickyLinesFromLine(clearFromLine) {\n        this._foldingIconStore.clear();\n        // Removing only the lines that need to be rerendered\n        for (let i = clearFromLine; i < this._renderedStickyLines.length; i++) {\n            const stickyLine = this._renderedStickyLines[i];\n            stickyLine.lineNumberDomNode.remove();\n            stickyLine.lineDomNode.remove();\n        }\n        // Keep the lines that need to be updated\n        this._renderedStickyLines = this._renderedStickyLines.slice(0, clearFromLine);\n        this._rootDomNode.style.display = 'none';\n    }\n    _useFoldingOpacityTransition(requireTransitions) {\n        this._lineNumbersDomNode.style.setProperty('--vscode-editorStickyScroll-foldingOpacityTransition', `opacity ${requireTransitions ? 0.5 : 0}s`);\n    }\n    _setFoldingIconsVisibility(allVisible) {\n        for (const line of this._renderedStickyLines) {\n            const foldingIcon = line.foldingIcon;\n            if (!foldingIcon) {\n                continue;\n            }\n            foldingIcon.setVisible(allVisible ? true : foldingIcon.isCollapsed);\n        }\n    }\n    async _renderRootNode(state, foldingModel, rebuildFromLine) {\n        this._clearStickyLinesFromLine(rebuildFromLine);\n        if (!state) {\n            return;\n        }\n        // For existing sticky lines update the top and z-index\n        for (const stickyLine of this._renderedStickyLines) {\n            this._updateTopAndZIndexOfStickyLine(stickyLine);\n        }\n        // For new sticky lines\n        const layoutInfo = this._editor.getLayoutInfo();\n        const linesToRender = this._lineNumbers.slice(rebuildFromLine);\n        for (const [index, line] of linesToRender.entries()) {\n            const stickyLine = this._renderChildNode(index + rebuildFromLine, line, foldingModel, layoutInfo);\n            if (!stickyLine) {\n                continue;\n            }\n            this._linesDomNode.appendChild(stickyLine.lineDomNode);\n            this._lineNumbersDomNode.appendChild(stickyLine.lineNumberDomNode);\n            this._renderedStickyLines.push(stickyLine);\n        }\n        if (foldingModel) {\n            this._setFoldingHoverListeners();\n            this._useFoldingOpacityTransition(!this._isOnGlyphMargin);\n        }\n        const widgetHeight = this._lineNumbers.length * this._lineHeight + this._lastLineRelativePosition;\n        this._rootDomNode.style.display = 'block';\n        this._lineNumbersDomNode.style.height = `${widgetHeight}px`;\n        this._linesDomNodeScrollable.style.height = `${widgetHeight}px`;\n        this._rootDomNode.style.height = `${widgetHeight}px`;\n        this._rootDomNode.style.marginLeft = '0px';\n        this._minContentWidthInPx = Math.max(...this._renderedStickyLines.map(l => l.scrollWidth)) + layoutInfo.verticalScrollbarWidth;\n        this._editor.layoutOverlayWidget(this);\n    }\n    _setFoldingHoverListeners() {\n        const showFoldingControls = this._editor.getOption(111 /* EditorOption.showFoldingControls */);\n        if (showFoldingControls !== 'mouseover') {\n            return;\n        }\n        this._foldingIconStore.add(dom.addDisposableListener(this._lineNumbersDomNode, dom.EventType.MOUSE_ENTER, () => {\n            this._isOnGlyphMargin = true;\n            this._setFoldingIconsVisibility(true);\n        }));\n        this._foldingIconStore.add(dom.addDisposableListener(this._lineNumbersDomNode, dom.EventType.MOUSE_LEAVE, () => {\n            this._isOnGlyphMargin = false;\n            this._useFoldingOpacityTransition(true);\n            this._setFoldingIconsVisibility(false);\n        }));\n    }\n    _renderChildNode(index, line, foldingModel, layoutInfo) {\n        const viewModel = this._editor._getViewModel();\n        if (!viewModel) {\n            return;\n        }\n        const viewLineNumber = viewModel.coordinatesConverter.convertModelPositionToViewPosition(new Position(line, 1)).lineNumber;\n        const lineRenderingData = viewModel.getViewLineRenderingData(viewLineNumber);\n        const lineNumberOption = this._editor.getOption(68 /* EditorOption.lineNumbers */);\n        let actualInlineDecorations;\n        try {\n            actualInlineDecorations = LineDecoration.filter(lineRenderingData.inlineDecorations, viewLineNumber, lineRenderingData.minColumn, lineRenderingData.maxColumn);\n        }\n        catch (err) {\n            actualInlineDecorations = [];\n        }\n        const renderLineInput = new RenderLineInput(true, true, lineRenderingData.content, lineRenderingData.continuesWithWrappedLine, lineRenderingData.isBasicASCII, lineRenderingData.containsRTL, 0, lineRenderingData.tokens, actualInlineDecorations, lineRenderingData.tabSize, lineRenderingData.startVisibleColumn, 1, 1, 1, 500, 'none', true, true, null);\n        const sb = new StringBuilder(2000);\n        const renderOutput = renderViewLine(renderLineInput, sb);\n        let newLine;\n        if (_ttPolicy) {\n            newLine = _ttPolicy.createHTML(sb.build());\n        }\n        else {\n            newLine = sb.build();\n        }\n        const lineHTMLNode = document.createElement('span');\n        lineHTMLNode.setAttribute(STICKY_INDEX_ATTR, String(index));\n        lineHTMLNode.setAttribute(STICKY_IS_LINE_ATTR, '');\n        lineHTMLNode.setAttribute('role', 'listitem');\n        lineHTMLNode.tabIndex = 0;\n        lineHTMLNode.className = 'sticky-line-content';\n        lineHTMLNode.classList.add(`stickyLine${line}`);\n        lineHTMLNode.style.lineHeight = `${this._lineHeight}px`;\n        lineHTMLNode.innerHTML = newLine;\n        const lineNumberHTMLNode = document.createElement('span');\n        lineNumberHTMLNode.setAttribute(STICKY_INDEX_ATTR, String(index));\n        lineNumberHTMLNode.setAttribute(STICKY_IS_LINE_NUMBER_ATTR, '');\n        lineNumberHTMLNode.className = 'sticky-line-number';\n        lineNumberHTMLNode.style.lineHeight = `${this._lineHeight}px`;\n        const lineNumbersWidth = layoutInfo.contentLeft;\n        lineNumberHTMLNode.style.width = `${lineNumbersWidth}px`;\n        const innerLineNumberHTML = document.createElement('span');\n        if (lineNumberOption.renderType === 1 /* RenderLineNumbersType.On */ || lineNumberOption.renderType === 3 /* RenderLineNumbersType.Interval */ && line % 10 === 0) {\n            innerLineNumberHTML.innerText = line.toString();\n        }\n        else if (lineNumberOption.renderType === 2 /* RenderLineNumbersType.Relative */) {\n            innerLineNumberHTML.innerText = Math.abs(line - this._editor.getPosition().lineNumber).toString();\n        }\n        innerLineNumberHTML.className = 'sticky-line-number-inner';\n        innerLineNumberHTML.style.lineHeight = `${this._lineHeight}px`;\n        innerLineNumberHTML.style.width = `${layoutInfo.lineNumbersWidth}px`;\n        innerLineNumberHTML.style.paddingLeft = `${layoutInfo.lineNumbersLeft}px`;\n        lineNumberHTMLNode.appendChild(innerLineNumberHTML);\n        const foldingIcon = this._renderFoldingIconForLine(foldingModel, line);\n        if (foldingIcon) {\n            lineNumberHTMLNode.appendChild(foldingIcon.domNode);\n        }\n        this._editor.applyFontInfo(lineHTMLNode);\n        this._editor.applyFontInfo(innerLineNumberHTML);\n        lineNumberHTMLNode.style.lineHeight = `${this._lineHeight}px`;\n        lineHTMLNode.style.lineHeight = `${this._lineHeight}px`;\n        lineNumberHTMLNode.style.height = `${this._lineHeight}px`;\n        lineHTMLNode.style.height = `${this._lineHeight}px`;\n        const renderedLine = new RenderedStickyLine(index, line, lineHTMLNode, lineNumberHTMLNode, foldingIcon, renderOutput.characterMapping, lineHTMLNode.scrollWidth);\n        return this._updateTopAndZIndexOfStickyLine(renderedLine);\n    }\n    _updateTopAndZIndexOfStickyLine(stickyLine) {\n        const index = stickyLine.index;\n        const lineHTMLNode = stickyLine.lineDomNode;\n        const lineNumberHTMLNode = stickyLine.lineNumberDomNode;\n        const isLastLine = index === this._lineNumbers.length - 1;\n        const lastLineZIndex = '0';\n        const intermediateLineZIndex = '1';\n        lineHTMLNode.style.zIndex = isLastLine ? lastLineZIndex : intermediateLineZIndex;\n        lineNumberHTMLNode.style.zIndex = isLastLine ? lastLineZIndex : intermediateLineZIndex;\n        const lastLineTop = `${index * this._lineHeight + this._lastLineRelativePosition + (stickyLine.foldingIcon?.isCollapsed ? 1 : 0)}px`;\n        const intermediateLineTop = `${index * this._lineHeight}px`;\n        lineHTMLNode.style.top = isLastLine ? lastLineTop : intermediateLineTop;\n        lineNumberHTMLNode.style.top = isLastLine ? lastLineTop : intermediateLineTop;\n        return stickyLine;\n    }\n    _renderFoldingIconForLine(foldingModel, line) {\n        const showFoldingControls = this._editor.getOption(111 /* EditorOption.showFoldingControls */);\n        if (!foldingModel || showFoldingControls === 'never') {\n            return;\n        }\n        const foldingRegions = foldingModel.regions;\n        const indexOfFoldingRegion = foldingRegions.findRange(line);\n        const startLineNumber = foldingRegions.getStartLineNumber(indexOfFoldingRegion);\n        const isFoldingScope = line === startLineNumber;\n        if (!isFoldingScope) {\n            return;\n        }\n        const isCollapsed = foldingRegions.isCollapsed(indexOfFoldingRegion);\n        const foldingIcon = new StickyFoldingIcon(isCollapsed, startLineNumber, foldingRegions.getEndLineNumber(indexOfFoldingRegion), this._lineHeight);\n        foldingIcon.setVisible(this._isOnGlyphMargin ? true : (isCollapsed || showFoldingControls === 'always'));\n        foldingIcon.domNode.setAttribute(STICKY_IS_FOLDING_ICON_ATTR, '');\n        return foldingIcon;\n    }\n    getId() {\n        return 'editor.contrib.stickyScrollWidget';\n    }\n    getDomNode() {\n        return this._rootDomNode;\n    }\n    getPosition() {\n        return {\n            preference: 2 /* OverlayWidgetPositionPreference.TOP_CENTER */,\n            stackOridinal: 10,\n        };\n    }\n    getMinContentWidthInPx() {\n        return this._minContentWidthInPx;\n    }\n    focusLineWithIndex(index) {\n        if (0 <= index && index < this._renderedStickyLines.length) {\n            this._renderedStickyLines[index].lineDomNode.focus();\n        }\n    }\n    /**\n     * Given a leaf dom node, tries to find the editor position.\n     */\n    getEditorPositionFromNode(spanDomNode) {\n        if (!spanDomNode || spanDomNode.children.length > 0) {\n            // This is not a leaf node\n            return null;\n        }\n        const renderedStickyLine = this._getRenderedStickyLineFromChildDomNode(spanDomNode);\n        if (!renderedStickyLine) {\n            return null;\n        }\n        const column = getColumnOfNodeOffset(renderedStickyLine.characterMapping, spanDomNode, 0);\n        return new Position(renderedStickyLine.lineNumber, column);\n    }\n    getLineNumberFromChildDomNode(domNode) {\n        return this._getRenderedStickyLineFromChildDomNode(domNode)?.lineNumber ?? null;\n    }\n    _getRenderedStickyLineFromChildDomNode(domNode) {\n        const index = this.getLineIndexFromChildDomNode(domNode);\n        if (index === null || index < 0 || index >= this._renderedStickyLines.length) {\n            return null;\n        }\n        return this._renderedStickyLines[index];\n    }\n    /**\n     * Given a child dom node, tries to find the line number attribute that was stored in the node.\n     * @returns the attribute value or null if none is found.\n     */\n    getLineIndexFromChildDomNode(domNode) {\n        const lineIndex = this._getAttributeValue(domNode, STICKY_INDEX_ATTR);\n        return lineIndex ? parseInt(lineIndex, 10) : null;\n    }\n    /**\n     * Given a child dom node, tries to find if it is (contained in) a sticky line.\n     * @returns a boolean.\n     */\n    isInStickyLine(domNode) {\n        const isInLine = this._getAttributeValue(domNode, STICKY_IS_LINE_ATTR);\n        return isInLine !== undefined;\n    }\n    /**\n     * Given a child dom node, tries to find if this dom node is (contained in) a sticky folding icon.\n     * @returns a boolean.\n     */\n    isInFoldingIconDomNode(domNode) {\n        const isInFoldingIcon = this._getAttributeValue(domNode, STICKY_IS_FOLDING_ICON_ATTR);\n        return isInFoldingIcon !== undefined;\n    }\n    /**\n     * Given the dom node, finds if it or its parent sequence contains the given attribute.\n     * @returns the attribute value or undefined.\n     */\n    _getAttributeValue(domNode, attribute) {\n        while (domNode && domNode !== this._rootDomNode) {\n            const line = domNode.getAttribute(attribute);\n            if (line !== null) {\n                return line;\n            }\n            domNode = domNode.parentElement;\n        }\n        return;\n    }\n}\nclass RenderedStickyLine {\n    constructor(index, lineNumber, lineDomNode, lineNumberDomNode, foldingIcon, characterMapping, scrollWidth) {\n        this.index = index;\n        this.lineNumber = lineNumber;\n        this.lineDomNode = lineDomNode;\n        this.lineNumberDomNode = lineNumberDomNode;\n        this.foldingIcon = foldingIcon;\n        this.characterMapping = characterMapping;\n        this.scrollWidth = scrollWidth;\n    }\n}\nclass StickyFoldingIcon {\n    constructor(isCollapsed, foldingStartLine, foldingEndLine, dimension) {\n        this.isCollapsed = isCollapsed;\n        this.foldingStartLine = foldingStartLine;\n        this.foldingEndLine = foldingEndLine;\n        this.dimension = dimension;\n        this.domNode = document.createElement('div');\n        this.domNode.style.width = `${dimension}px`;\n        this.domNode.style.height = `${dimension}px`;\n        this.domNode.className = ThemeIcon.asClassName(isCollapsed ? foldingCollapsedIcon : foldingExpandedIcon);\n    }\n    setVisible(visible) {\n        this.domNode.style.cursor = visible ? 'pointer' : 'default';\n        this.domNode.style.opacity = visible ? '1' : '0';\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 456, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollElement.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nexport class StickyRange {\n    constructor(startLineNumber, endLineNumber) {\n        this.startLineNumber = startLineNumber;\n        this.endLineNumber = endLineNumber;\n    }\n}\nexport class StickyElement {\n    constructor(\n    /**\n     * Range of line numbers spanned by the current scope\n     */\n    range, \n    /**\n     * Must be sorted by start line number\n    */\n    children, \n    /**\n     * Parent sticky outline element\n     */\n    parent) {\n        this.range = range;\n        this.children = children;\n        this.parent = parent;\n    }\n}\nexport class StickyModel {\n    constructor(uri, version, element, outlineProviderId) {\n        this.uri = uri;\n        this.version = version;\n        this.element = element;\n        this.outlineProviderId = outlineProviderId;\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;;AACvF,MAAM;IACT,YAAY,eAAe,EAAE,aAAa,CAAE;QACxC,IAAI,CAAC,eAAe,GAAG;QACvB,IAAI,CAAC,aAAa,GAAG;IACzB;AACJ;AACO,MAAM;IACT,YACA;;KAEC,GACD,KAAK,EACL;;IAEA,GACA,QAAQ,EACR;;KAEC,GACD,MAAM,CAAE;QACJ,IAAI,CAAC,KAAK,GAAG;QACb,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,MAAM,GAAG;IAClB;AACJ;AACO,MAAM;IACT,YAAY,GAAG,EAAE,OAAO,EAAE,OAAO,EAAE,iBAAiB,CAAE;QAClD,IAAI,CAAC,GAAG,GAAG;QACX,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,iBAAiB,GAAG;IAC7B;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 497, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollModelProvider.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable, DisposableStore } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { OutlineElement, OutlineGroup, OutlineModel } from '../../documentSymbols/browser/outlineModel.js';\nimport { createCancelablePromise, Delayer } from '../../../../base/common/async.js';\nimport { FoldingController, RangesLimitReporter } from '../../folding/browser/folding.js';\nimport { SyntaxRangeProvider } from '../../folding/browser/syntaxRangeProvider.js';\nimport { IndentRangeProvider } from '../../folding/browser/indentRangeProvider.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { StickyElement, StickyModel, StickyRange } from './stickyScrollElement.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nvar ModelProvider;\n(function (ModelProvider) {\n    ModelProvider[\"OUTLINE_MODEL\"] = \"outlineModel\";\n    ModelProvider[\"FOLDING_PROVIDER_MODEL\"] = \"foldingProviderModel\";\n    ModelProvider[\"INDENTATION_MODEL\"] = \"indentationModel\";\n})(ModelProvider || (ModelProvider = {}));\nvar Status;\n(function (Status) {\n    Status[Status[\"VALID\"] = 0] = \"VALID\";\n    Status[Status[\"INVALID\"] = 1] = \"INVALID\";\n    Status[Status[\"CANCELED\"] = 2] = \"CANCELED\";\n})(Status || (Status = {}));\nlet StickyModelProvider = class StickyModelProvider extends Disposable {\n    constructor(_editor, onProviderUpdate, _languageConfigurationService, _languageFeaturesService) {\n        super();\n        this._editor = _editor;\n        this._modelProviders = [];\n        this._modelPromise = null;\n        this._updateScheduler = this._register(new Delayer(300));\n        this._updateOperation = this._register(new DisposableStore());\n        switch (this._editor.getOption(116 /* EditorOption.stickyScroll */).defaultModel) {\n            case ModelProvider.OUTLINE_MODEL:\n                this._modelProviders.push(new StickyModelFromCandidateOutlineProvider(this._editor, _languageFeaturesService));\n            // fall through\n            case ModelProvider.FOLDING_PROVIDER_MODEL:\n                this._modelProviders.push(new StickyModelFromCandidateSyntaxFoldingProvider(this._editor, onProviderUpdate, _languageFeaturesService));\n            // fall through\n            case ModelProvider.INDENTATION_MODEL:\n                this._modelProviders.push(new StickyModelFromCandidateIndentationFoldingProvider(this._editor, _languageConfigurationService));\n                break;\n        }\n    }\n    dispose() {\n        this._modelProviders.forEach(provider => provider.dispose());\n        this._updateOperation.clear();\n        this._cancelModelPromise();\n        super.dispose();\n    }\n    _cancelModelPromise() {\n        if (this._modelPromise) {\n            this._modelPromise.cancel();\n            this._modelPromise = null;\n        }\n    }\n    async update(token) {\n        this._updateOperation.clear();\n        this._updateOperation.add({\n            dispose: () => {\n                this._cancelModelPromise();\n                this._updateScheduler.cancel();\n            }\n        });\n        this._cancelModelPromise();\n        return await this._updateScheduler.trigger(async () => {\n            for (const modelProvider of this._modelProviders) {\n                const { statusPromise, modelPromise } = modelProvider.computeStickyModel(token);\n                this._modelPromise = modelPromise;\n                const status = await statusPromise;\n                if (this._modelPromise !== modelPromise) {\n                    return null;\n                }\n                switch (status) {\n                    case Status.CANCELED:\n                        this._updateOperation.clear();\n                        return null;\n                    case Status.VALID:\n                        return modelProvider.stickyModel;\n                }\n            }\n            return null;\n        }).catch((error) => {\n            onUnexpectedError(error);\n            return null;\n        });\n    }\n};\nStickyModelProvider = __decorate([\n    __param(2, IInstantiationService),\n    __param(3, ILanguageFeaturesService)\n], StickyModelProvider);\nexport { StickyModelProvider };\nclass StickyModelCandidateProvider extends Disposable {\n    constructor(_editor) {\n        super();\n        this._editor = _editor;\n        this._stickyModel = null;\n    }\n    get stickyModel() {\n        return this._stickyModel;\n    }\n    _invalid() {\n        this._stickyModel = null;\n        return Status.INVALID;\n    }\n    computeStickyModel(token) {\n        if (token.isCancellationRequested || !this.isProviderValid()) {\n            return { statusPromise: this._invalid(), modelPromise: null };\n        }\n        const providerModelPromise = createCancelablePromise(token => this.createModelFromProvider(token));\n        return {\n            statusPromise: providerModelPromise.then(providerModel => {\n                if (!this.isModelValid(providerModel)) {\n                    return this._invalid();\n                }\n                if (token.isCancellationRequested) {\n                    return Status.CANCELED;\n                }\n                this._stickyModel = this.createStickyModel(token, providerModel);\n                return Status.VALID;\n            }).then(undefined, (err) => {\n                onUnexpectedError(err);\n                return Status.CANCELED;\n            }),\n            modelPromise: providerModelPromise\n        };\n    }\n    /**\n     * Method which checks whether the model returned by the provider is valid and can be used to compute a sticky model.\n     * This method by default returns true.\n     * @param model model returned by the provider\n     * @returns boolean indicating whether the model is valid\n     */\n    isModelValid(model) {\n        return true;\n    }\n    /**\n     * Method which checks whether the provider is valid before applying it to find the provider model.\n     * This method by default returns true.\n     * @returns boolean indicating whether the provider is valid\n     */\n    isProviderValid() {\n        return true;\n    }\n}\nlet StickyModelFromCandidateOutlineProvider = class StickyModelFromCandidateOutlineProvider extends StickyModelCandidateProvider {\n    constructor(_editor, _languageFeaturesService) {\n        super(_editor);\n        this._languageFeaturesService = _languageFeaturesService;\n    }\n    createModelFromProvider(token) {\n        return OutlineModel.create(this._languageFeaturesService.documentSymbolProvider, this._editor.getModel(), token);\n    }\n    createStickyModel(token, model) {\n        const { stickyOutlineElement, providerID } = this._stickyModelFromOutlineModel(model, this._stickyModel?.outlineProviderId);\n        const textModel = this._editor.getModel();\n        return new StickyModel(textModel.uri, textModel.getVersionId(), stickyOutlineElement, providerID);\n    }\n    isModelValid(model) {\n        return model && model.children.size > 0;\n    }\n    _stickyModelFromOutlineModel(outlineModel, preferredProvider) {\n        let outlineElements;\n        // When several possible outline providers\n        if (Iterable.first(outlineModel.children.values()) instanceof OutlineGroup) {\n            const provider = Iterable.find(outlineModel.children.values(), outlineGroupOfModel => outlineGroupOfModel.id === preferredProvider);\n            if (provider) {\n                outlineElements = provider.children;\n            }\n            else {\n                let tempID = '';\n                let maxTotalSumOfRanges = -1;\n                let optimalOutlineGroup = undefined;\n                for (const [_key, outlineGroup] of outlineModel.children.entries()) {\n                    const totalSumRanges = this._findSumOfRangesOfGroup(outlineGroup);\n                    if (totalSumRanges > maxTotalSumOfRanges) {\n                        optimalOutlineGroup = outlineGroup;\n                        maxTotalSumOfRanges = totalSumRanges;\n                        tempID = outlineGroup.id;\n                    }\n                }\n                preferredProvider = tempID;\n                outlineElements = optimalOutlineGroup.children;\n            }\n        }\n        else {\n            outlineElements = outlineModel.children;\n        }\n        const stickyChildren = [];\n        const outlineElementsArray = Array.from(outlineElements.values()).sort((element1, element2) => {\n            const range1 = new StickyRange(element1.symbol.range.startLineNumber, element1.symbol.range.endLineNumber);\n            const range2 = new StickyRange(element2.symbol.range.startLineNumber, element2.symbol.range.endLineNumber);\n            return this._comparator(range1, range2);\n        });\n        for (const outlineElement of outlineElementsArray) {\n            stickyChildren.push(this._stickyModelFromOutlineElement(outlineElement, outlineElement.symbol.selectionRange.startLineNumber));\n        }\n        const stickyOutlineElement = new StickyElement(undefined, stickyChildren, undefined);\n        return {\n            stickyOutlineElement: stickyOutlineElement,\n            providerID: preferredProvider\n        };\n    }\n    _stickyModelFromOutlineElement(outlineElement, previousStartLine) {\n        const children = [];\n        for (const child of outlineElement.children.values()) {\n            if (child.symbol.selectionRange.startLineNumber !== child.symbol.range.endLineNumber) {\n                if (child.symbol.selectionRange.startLineNumber !== previousStartLine) {\n                    children.push(this._stickyModelFromOutlineElement(child, child.symbol.selectionRange.startLineNumber));\n                }\n                else {\n                    for (const subchild of child.children.values()) {\n                        children.push(this._stickyModelFromOutlineElement(subchild, child.symbol.selectionRange.startLineNumber));\n                    }\n                }\n            }\n        }\n        children.sort((child1, child2) => this._comparator(child1.range, child2.range));\n        const range = new StickyRange(outlineElement.symbol.selectionRange.startLineNumber, outlineElement.symbol.range.endLineNumber);\n        return new StickyElement(range, children, undefined);\n    }\n    _comparator(range1, range2) {\n        if (range1.startLineNumber !== range2.startLineNumber) {\n            return range1.startLineNumber - range2.startLineNumber;\n        }\n        else {\n            return range2.endLineNumber - range1.endLineNumber;\n        }\n    }\n    _findSumOfRangesOfGroup(outline) {\n        let res = 0;\n        for (const child of outline.children.values()) {\n            res += this._findSumOfRangesOfGroup(child);\n        }\n        if (outline instanceof OutlineElement) {\n            return res + outline.symbol.range.endLineNumber - outline.symbol.selectionRange.startLineNumber;\n        }\n        else {\n            return res;\n        }\n    }\n};\nStickyModelFromCandidateOutlineProvider = __decorate([\n    __param(1, ILanguageFeaturesService)\n], StickyModelFromCandidateOutlineProvider);\nclass StickyModelFromCandidateFoldingProvider extends StickyModelCandidateProvider {\n    constructor(editor) {\n        super(editor);\n        this._foldingLimitReporter = new RangesLimitReporter(editor);\n    }\n    createStickyModel(token, model) {\n        const foldingElement = this._fromFoldingRegions(model);\n        const textModel = this._editor.getModel();\n        return new StickyModel(textModel.uri, textModel.getVersionId(), foldingElement, undefined);\n    }\n    isModelValid(model) {\n        return model !== null;\n    }\n    _fromFoldingRegions(foldingRegions) {\n        const length = foldingRegions.length;\n        const orderedStickyElements = [];\n        // The root sticky outline element\n        const stickyOutlineElement = new StickyElement(undefined, [], undefined);\n        for (let i = 0; i < length; i++) {\n            // Finding the parent index of the current range\n            const parentIndex = foldingRegions.getParentIndex(i);\n            let parentNode;\n            if (parentIndex !== -1) {\n                // Access the reference of the parent node\n                parentNode = orderedStickyElements[parentIndex];\n            }\n            else {\n                // In that case the parent node is the root node\n                parentNode = stickyOutlineElement;\n            }\n            const child = new StickyElement(new StickyRange(foldingRegions.getStartLineNumber(i), foldingRegions.getEndLineNumber(i) + 1), [], parentNode);\n            parentNode.children.push(child);\n            orderedStickyElements.push(child);\n        }\n        return stickyOutlineElement;\n    }\n}\nlet StickyModelFromCandidateIndentationFoldingProvider = class StickyModelFromCandidateIndentationFoldingProvider extends StickyModelFromCandidateFoldingProvider {\n    constructor(editor, _languageConfigurationService) {\n        super(editor);\n        this._languageConfigurationService = _languageConfigurationService;\n        this.provider = this._register(new IndentRangeProvider(editor.getModel(), this._languageConfigurationService, this._foldingLimitReporter));\n    }\n    async createModelFromProvider(token) {\n        return this.provider.compute(token);\n    }\n};\nStickyModelFromCandidateIndentationFoldingProvider = __decorate([\n    __param(1, ILanguageConfigurationService)\n], StickyModelFromCandidateIndentationFoldingProvider);\nlet StickyModelFromCandidateSyntaxFoldingProvider = class StickyModelFromCandidateSyntaxFoldingProvider extends StickyModelFromCandidateFoldingProvider {\n    constructor(editor, onProviderUpdate, _languageFeaturesService) {\n        super(editor);\n        this._languageFeaturesService = _languageFeaturesService;\n        const selectedProviders = FoldingController.getFoldingRangeProviders(this._languageFeaturesService, editor.getModel());\n        if (selectedProviders.length > 0) {\n            this.provider = this._register(new SyntaxRangeProvider(editor.getModel(), selectedProviders, onProviderUpdate, this._foldingLimitReporter, undefined));\n        }\n    }\n    isProviderValid() {\n        return this.provider !== undefined;\n    }\n    async createModelFromProvider(token) {\n        return this.provider?.compute(token) ?? null;\n    }\n};\nStickyModelFromCandidateSyntaxFoldingProvider = __decorate([\n    __param(2, ILanguageFeaturesService)\n], StickyModelFromCandidateSyntaxFoldingProvider);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 842, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollProvider.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { RunOnceScheduler } from '../../../../base/common/async.js';\nimport { binarySearch } from '../../../../base/common/arrays.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { StickyModelProvider } from './stickyScrollModelProvider.js';\nexport class StickyLineCandidate {\n    constructor(startLineNumber, endLineNumber, nestingDepth) {\n        this.startLineNumber = startLineNumber;\n        this.endLineNumber = endLineNumber;\n        this.nestingDepth = nestingDepth;\n    }\n}\nlet StickyLineCandidateProvider = class StickyLineCandidateProvider extends Disposable {\n    constructor(editor, _languageFeaturesService, _languageConfigurationService) {\n        super();\n        this._languageFeaturesService = _languageFeaturesService;\n        this._languageConfigurationService = _languageConfigurationService;\n        this._onDidChangeStickyScroll = this._register(new Emitter());\n        this.onDidChangeStickyScroll = this._onDidChangeStickyScroll.event;\n        this._model = null;\n        this._cts = null;\n        this._stickyModelProvider = null;\n        this._editor = editor;\n        this._sessionStore = this._register(new DisposableStore());\n        this._updateSoon = this._register(new RunOnceScheduler(() => this.update(), 50));\n        this._register(this._editor.onDidChangeConfiguration(e => {\n            if (e.hasChanged(116 /* EditorOption.stickyScroll */)) {\n                this.readConfiguration();\n            }\n        }));\n        this.readConfiguration();\n    }\n    readConfiguration() {\n        this._sessionStore.clear();\n        const options = this._editor.getOption(116 /* EditorOption.stickyScroll */);\n        if (!options.enabled) {\n            return;\n        }\n        this._sessionStore.add(this._editor.onDidChangeModel(() => {\n            // We should not show an old model for a different file, it will always be wrong.\n            // So we clear the model here immediately and then trigger an update.\n            this._model = null;\n            this.updateStickyModelProvider();\n            this._onDidChangeStickyScroll.fire();\n            this.update();\n        }));\n        this._sessionStore.add(this._editor.onDidChangeHiddenAreas(() => this.update()));\n        this._sessionStore.add(this._editor.onDidChangeModelContent(() => this._updateSoon.schedule()));\n        this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(() => this.update()));\n        this._sessionStore.add(toDisposable(() => {\n            this._stickyModelProvider?.dispose();\n            this._stickyModelProvider = null;\n        }));\n        this.updateStickyModelProvider();\n        this.update();\n    }\n    getVersionId() {\n        return this._model?.version;\n    }\n    updateStickyModelProvider() {\n        this._stickyModelProvider?.dispose();\n        this._stickyModelProvider = null;\n        const editor = this._editor;\n        if (editor.hasModel()) {\n            this._stickyModelProvider = new StickyModelProvider(editor, () => this._updateSoon.schedule(), this._languageConfigurationService, this._languageFeaturesService);\n        }\n    }\n    async update() {\n        this._cts?.dispose(true);\n        this._cts = new CancellationTokenSource();\n        await this.updateStickyModel(this._cts.token);\n        this._onDidChangeStickyScroll.fire();\n    }\n    async updateStickyModel(token) {\n        if (!this._editor.hasModel() || !this._stickyModelProvider || this._editor.getModel().isTooLargeForTokenization()) {\n            this._model = null;\n            return;\n        }\n        const model = await this._stickyModelProvider.update(token);\n        if (token.isCancellationRequested) {\n            // the computation was canceled, so do not overwrite the model\n            return;\n        }\n        this._model = model;\n    }\n    updateIndex(index) {\n        if (index === -1) {\n            index = 0;\n        }\n        else if (index < 0) {\n            index = -index - 2;\n        }\n        return index;\n    }\n    getCandidateStickyLinesIntersectingFromStickyModel(range, outlineModel, result, depth, lastStartLineNumber) {\n        if (outlineModel.children.length === 0) {\n            return;\n        }\n        let lastLine = lastStartLineNumber;\n        const childrenStartLines = [];\n        for (let i = 0; i < outlineModel.children.length; i++) {\n            const child = outlineModel.children[i];\n            if (child.range) {\n                childrenStartLines.push(child.range.startLineNumber);\n            }\n        }\n        const lowerBound = this.updateIndex(binarySearch(childrenStartLines, range.startLineNumber, (a, b) => { return a - b; }));\n        const upperBound = this.updateIndex(binarySearch(childrenStartLines, range.startLineNumber + depth, (a, b) => { return a - b; }));\n        for (let i = lowerBound; i <= upperBound; i++) {\n            const child = outlineModel.children[i];\n            if (!child) {\n                return;\n            }\n            if (child.range) {\n                const childStartLine = child.range.startLineNumber;\n                const childEndLine = child.range.endLineNumber;\n                if (range.startLineNumber <= childEndLine + 1 && childStartLine - 1 <= range.endLineNumber && childStartLine !== lastLine) {\n                    lastLine = childStartLine;\n                    result.push(new StickyLineCandidate(childStartLine, childEndLine - 1, depth + 1));\n                    this.getCandidateStickyLinesIntersectingFromStickyModel(range, child, result, depth + 1, childStartLine);\n                }\n            }\n            else {\n                this.getCandidateStickyLinesIntersectingFromStickyModel(range, child, result, depth, lastStartLineNumber);\n            }\n        }\n    }\n    getCandidateStickyLinesIntersecting(range) {\n        if (!this._model?.element) {\n            return [];\n        }\n        let stickyLineCandidates = [];\n        this.getCandidateStickyLinesIntersectingFromStickyModel(range, this._model.element, stickyLineCandidates, 0, -1);\n        const hiddenRanges = this._editor._getViewModel()?.getHiddenAreas();\n        if (hiddenRanges) {\n            for (const hiddenRange of hiddenRanges) {\n                stickyLineCandidates = stickyLineCandidates.filter(stickyLine => !(stickyLine.startLineNumber >= hiddenRange.startLineNumber && stickyLine.endLineNumber <= hiddenRange.endLineNumber + 1));\n            }\n        }\n        return stickyLineCandidates;\n    }\n};\nStickyLineCandidateProvider = __decorate([\n    __param(1, ILanguageFeaturesService),\n    __param(2, ILanguageConfigurationService)\n], StickyLineCandidateProvider);\nexport { StickyLineCandidateProvider };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1026, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar StickyScrollController_1;\nimport { Disposable, DisposableStore, toDisposable } from '../../../../base/common/lifecycle.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { StickyScrollWidget, StickyScrollWidgetState } from './stickyScrollWidget.js';\nimport { StickyLineCandidateProvider } from './stickyScrollProvider.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IContextMenuService } from '../../../../platform/contextview/browser/contextView.js';\nimport { MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IContextKeyService } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { ClickLinkGesture } from '../../gotoSymbol/browser/link/clickLinkGesture.js';\nimport { Range } from '../../../common/core/range.js';\nimport { getDefinitionsAtPosition } from '../../gotoSymbol/browser/goToSymbol.js';\nimport { goToDefinitionWithLocation } from '../../inlayHints/browser/inlayHintsLocations.js';\nimport { Position } from '../../../common/core/position.js';\nimport { CancellationTokenSource } from '../../../../base/common/cancellation.js';\nimport { ILanguageConfigurationService } from '../../../common/languages/languageConfigurationRegistry.js';\nimport { ILanguageFeatureDebounceService } from '../../../common/services/languageFeatureDebounce.js';\nimport * as dom from '../../../../base/browser/dom.js';\nimport { StickyRange } from './stickyScrollElement.js';\nimport { StandardMouseEvent } from '../../../../base/browser/mouseEvent.js';\nimport { FoldingController } from '../../folding/browser/folding.js';\nimport { toggleCollapseState } from '../../folding/browser/foldingModel.js';\nlet StickyScrollController = class StickyScrollController extends Disposable {\n    static { StickyScrollController_1 = this; }\n    static { this.ID = 'store.contrib.stickyScrollController'; }\n    constructor(_editor, _contextMenuService, _languageFeaturesService, _instaService, _languageConfigurationService, _languageFeatureDebounceService, _contextKeyService) {\n        super();\n        this._editor = _editor;\n        this._contextMenuService = _contextMenuService;\n        this._languageFeaturesService = _languageFeaturesService;\n        this._instaService = _instaService;\n        this._contextKeyService = _contextKeyService;\n        this._sessionStore = new DisposableStore();\n        this._maxStickyLines = Number.MAX_SAFE_INTEGER;\n        this._candidateDefinitionsLength = -1;\n        this._focusedStickyElementIndex = -1;\n        this._enabled = false;\n        this._focused = false;\n        this._positionRevealed = false;\n        this._onMouseDown = false;\n        this._endLineNumbers = [];\n        this._stickyScrollWidget = new StickyScrollWidget(this._editor);\n        this._stickyLineCandidateProvider = new StickyLineCandidateProvider(this._editor, _languageFeaturesService, _languageConfigurationService);\n        this._register(this._stickyScrollWidget);\n        this._register(this._stickyLineCandidateProvider);\n        this._widgetState = StickyScrollWidgetState.Empty;\n        this._onDidResize();\n        this._readConfiguration();\n        const stickyScrollDomNode = this._stickyScrollWidget.getDomNode();\n        this._register(this._editor.onDidChangeConfiguration(e => {\n            this._readConfigurationChange(e);\n        }));\n        this._register(dom.addDisposableListener(stickyScrollDomNode, dom.EventType.CONTEXT_MENU, async (event) => {\n            this._onContextMenu(dom.getWindow(stickyScrollDomNode), event);\n        }));\n        this._stickyScrollFocusedContextKey = EditorContextKeys.stickyScrollFocused.bindTo(this._contextKeyService);\n        this._stickyScrollVisibleContextKey = EditorContextKeys.stickyScrollVisible.bindTo(this._contextKeyService);\n        const focusTracker = this._register(dom.trackFocus(stickyScrollDomNode));\n        this._register(focusTracker.onDidBlur(_ => {\n            // Suppose that the blurring is caused by scrolling, then keep the focus on the sticky scroll\n            // This is determined by the fact that the height of the widget has become zero and there has been no position revealing\n            if (this._positionRevealed === false && stickyScrollDomNode.clientHeight === 0) {\n                this._focusedStickyElementIndex = -1;\n                this.focus();\n            }\n            // In all other casees, dispose the focus on the sticky scroll\n            else {\n                this._disposeFocusStickyScrollStore();\n            }\n        }));\n        this._register(focusTracker.onDidFocus(_ => {\n            this.focus();\n        }));\n        this._registerMouseListeners();\n        // Suppose that mouse down on the sticky scroll, then do not focus on the sticky scroll because this will be followed by the revealing of a position\n        this._register(dom.addDisposableListener(stickyScrollDomNode, dom.EventType.MOUSE_DOWN, (e) => {\n            this._onMouseDown = true;\n        }));\n    }\n    static get(editor) {\n        return editor.getContribution(StickyScrollController_1.ID);\n    }\n    _disposeFocusStickyScrollStore() {\n        this._stickyScrollFocusedContextKey.set(false);\n        this._focusDisposableStore?.dispose();\n        this._focused = false;\n        this._positionRevealed = false;\n        this._onMouseDown = false;\n    }\n    focus() {\n        // If the mouse is down, do not focus on the sticky scroll\n        if (this._onMouseDown) {\n            this._onMouseDown = false;\n            this._editor.focus();\n            return;\n        }\n        const focusState = this._stickyScrollFocusedContextKey.get();\n        if (focusState === true) {\n            return;\n        }\n        this._focused = true;\n        this._focusDisposableStore = new DisposableStore();\n        this._stickyScrollFocusedContextKey.set(true);\n        this._focusedStickyElementIndex = this._stickyScrollWidget.lineNumbers.length - 1;\n        this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);\n    }\n    focusNext() {\n        if (this._focusedStickyElementIndex < this._stickyScrollWidget.lineNumberCount - 1) {\n            this._focusNav(true);\n        }\n    }\n    focusPrevious() {\n        if (this._focusedStickyElementIndex > 0) {\n            this._focusNav(false);\n        }\n    }\n    selectEditor() {\n        this._editor.focus();\n    }\n    // True is next, false is previous\n    _focusNav(direction) {\n        this._focusedStickyElementIndex = direction ? this._focusedStickyElementIndex + 1 : this._focusedStickyElementIndex - 1;\n        this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);\n    }\n    goToFocused() {\n        const lineNumbers = this._stickyScrollWidget.lineNumbers;\n        this._disposeFocusStickyScrollStore();\n        this._revealPosition({ lineNumber: lineNumbers[this._focusedStickyElementIndex], column: 1 });\n    }\n    _revealPosition(position) {\n        this._reveaInEditor(position, () => this._editor.revealPosition(position));\n    }\n    _revealLineInCenterIfOutsideViewport(position) {\n        this._reveaInEditor(position, () => this._editor.revealLineInCenterIfOutsideViewport(position.lineNumber, 0 /* ScrollType.Smooth */));\n    }\n    _reveaInEditor(position, revealFunction) {\n        if (this._focused) {\n            this._disposeFocusStickyScrollStore();\n        }\n        this._positionRevealed = true;\n        revealFunction();\n        this._editor.setSelection(Range.fromPositions(position));\n        this._editor.focus();\n    }\n    _registerMouseListeners() {\n        const sessionStore = this._register(new DisposableStore());\n        const gesture = this._register(new ClickLinkGesture(this._editor, {\n            extractLineNumberFromMouseEvent: (e) => {\n                const position = this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);\n                return position ? position.lineNumber : 0;\n            }\n        }));\n        const getMouseEventTarget = (mouseEvent) => {\n            if (!this._editor.hasModel()) {\n                return null;\n            }\n            if (mouseEvent.target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */ || mouseEvent.target.detail !== this._stickyScrollWidget.getId()) {\n                // not hovering over our widget\n                return null;\n            }\n            const mouseTargetElement = mouseEvent.target.element;\n            if (!mouseTargetElement || mouseTargetElement.innerText !== mouseTargetElement.innerHTML) {\n                // not on a span element rendering text\n                return null;\n            }\n            const position = this._stickyScrollWidget.getEditorPositionFromNode(mouseTargetElement);\n            if (!position) {\n                // not hovering a sticky scroll line\n                return null;\n            }\n            return {\n                range: new Range(position.lineNumber, position.column, position.lineNumber, position.column + mouseTargetElement.innerText.length),\n                textElement: mouseTargetElement\n            };\n        };\n        const stickyScrollWidgetDomNode = this._stickyScrollWidget.getDomNode();\n        this._register(dom.addStandardDisposableListener(stickyScrollWidgetDomNode, dom.EventType.CLICK, (mouseEvent) => {\n            if (mouseEvent.ctrlKey || mouseEvent.altKey || mouseEvent.metaKey) {\n                // modifier pressed\n                return;\n            }\n            if (!mouseEvent.leftButton) {\n                // not left click\n                return;\n            }\n            if (mouseEvent.shiftKey) {\n                // shift click\n                const lineIndex = this._stickyScrollWidget.getLineIndexFromChildDomNode(mouseEvent.target);\n                if (lineIndex === null) {\n                    return;\n                }\n                const position = new Position(this._endLineNumbers[lineIndex], 1);\n                this._revealLineInCenterIfOutsideViewport(position);\n                return;\n            }\n            const isInFoldingIconDomNode = this._stickyScrollWidget.isInFoldingIconDomNode(mouseEvent.target);\n            if (isInFoldingIconDomNode) {\n                // clicked on folding icon\n                const lineNumber = this._stickyScrollWidget.getLineNumberFromChildDomNode(mouseEvent.target);\n                this._toggleFoldingRegionForLine(lineNumber);\n                return;\n            }\n            const isInStickyLine = this._stickyScrollWidget.isInStickyLine(mouseEvent.target);\n            if (!isInStickyLine) {\n                return;\n            }\n            // normal click\n            let position = this._stickyScrollWidget.getEditorPositionFromNode(mouseEvent.target);\n            if (!position) {\n                const lineNumber = this._stickyScrollWidget.getLineNumberFromChildDomNode(mouseEvent.target);\n                if (lineNumber === null) {\n                    // not hovering a sticky scroll line\n                    return;\n                }\n                position = new Position(lineNumber, 1);\n            }\n            this._revealPosition(position);\n        }));\n        this._register(dom.addStandardDisposableListener(stickyScrollWidgetDomNode, dom.EventType.MOUSE_MOVE, (mouseEvent) => {\n            if (mouseEvent.shiftKey) {\n                const currentEndForLineIndex = this._stickyScrollWidget.getLineIndexFromChildDomNode(mouseEvent.target);\n                if (currentEndForLineIndex === null || this._showEndForLine !== null && this._showEndForLine === currentEndForLineIndex) {\n                    return;\n                }\n                this._showEndForLine = currentEndForLineIndex;\n                this._renderStickyScroll();\n                return;\n            }\n            if (this._showEndForLine !== undefined) {\n                this._showEndForLine = undefined;\n                this._renderStickyScroll();\n            }\n        }));\n        this._register(dom.addDisposableListener(stickyScrollWidgetDomNode, dom.EventType.MOUSE_LEAVE, (e) => {\n            if (this._showEndForLine !== undefined) {\n                this._showEndForLine = undefined;\n                this._renderStickyScroll();\n            }\n        }));\n        this._register(gesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, _keyboardEvent]) => {\n            const mouseTarget = getMouseEventTarget(mouseEvent);\n            if (!mouseTarget || !mouseEvent.hasTriggerModifier || !this._editor.hasModel()) {\n                sessionStore.clear();\n                return;\n            }\n            const { range, textElement } = mouseTarget;\n            if (!range.equalsRange(this._stickyRangeProjectedOnEditor)) {\n                this._stickyRangeProjectedOnEditor = range;\n                sessionStore.clear();\n            }\n            else if (textElement.style.textDecoration === 'underline') {\n                return;\n            }\n            const cancellationToken = new CancellationTokenSource();\n            sessionStore.add(toDisposable(() => cancellationToken.dispose(true)));\n            let currentHTMLChild;\n            getDefinitionsAtPosition(this._languageFeaturesService.definitionProvider, this._editor.getModel(), new Position(range.startLineNumber, range.startColumn + 1), false, cancellationToken.token).then((candidateDefinitions => {\n                if (cancellationToken.token.isCancellationRequested) {\n                    return;\n                }\n                if (candidateDefinitions.length !== 0) {\n                    this._candidateDefinitionsLength = candidateDefinitions.length;\n                    const childHTML = textElement;\n                    if (currentHTMLChild !== childHTML) {\n                        sessionStore.clear();\n                        currentHTMLChild = childHTML;\n                        currentHTMLChild.style.textDecoration = 'underline';\n                        sessionStore.add(toDisposable(() => {\n                            currentHTMLChild.style.textDecoration = 'none';\n                        }));\n                    }\n                    else if (!currentHTMLChild) {\n                        currentHTMLChild = childHTML;\n                        currentHTMLChild.style.textDecoration = 'underline';\n                        sessionStore.add(toDisposable(() => {\n                            currentHTMLChild.style.textDecoration = 'none';\n                        }));\n                    }\n                }\n                else {\n                    sessionStore.clear();\n                }\n            }));\n        }));\n        this._register(gesture.onCancel(() => {\n            sessionStore.clear();\n        }));\n        this._register(gesture.onExecute(async (e) => {\n            if (e.target.type !== 12 /* MouseTargetType.OVERLAY_WIDGET */ || e.target.detail !== this._stickyScrollWidget.getId()) {\n                // not hovering over our widget\n                return;\n            }\n            const position = this._stickyScrollWidget.getEditorPositionFromNode(e.target.element);\n            if (!position) {\n                // not hovering a sticky scroll line\n                return;\n            }\n            if (!this._editor.hasModel() || !this._stickyRangeProjectedOnEditor) {\n                return;\n            }\n            if (this._candidateDefinitionsLength > 1) {\n                if (this._focused) {\n                    this._disposeFocusStickyScrollStore();\n                }\n                this._revealPosition({ lineNumber: position.lineNumber, column: 1 });\n            }\n            this._instaService.invokeFunction(goToDefinitionWithLocation, e, this._editor, { uri: this._editor.getModel().uri, range: this._stickyRangeProjectedOnEditor });\n        }));\n    }\n    _onContextMenu(targetWindow, e) {\n        const event = new StandardMouseEvent(targetWindow, e);\n        this._contextMenuService.showContextMenu({\n            menuId: MenuId.StickyScrollContext,\n            getAnchor: () => event,\n        });\n    }\n    _toggleFoldingRegionForLine(line) {\n        if (!this._foldingModel || line === null) {\n            return;\n        }\n        const stickyLine = this._stickyScrollWidget.getRenderedStickyLine(line);\n        const foldingIcon = stickyLine?.foldingIcon;\n        if (!foldingIcon) {\n            return;\n        }\n        toggleCollapseState(this._foldingModel, Number.MAX_VALUE, [line]);\n        foldingIcon.isCollapsed = !foldingIcon.isCollapsed;\n        const scrollTop = (foldingIcon.isCollapsed ?\n            this._editor.getTopForLineNumber(foldingIcon.foldingEndLine)\n            : this._editor.getTopForLineNumber(foldingIcon.foldingStartLine))\n            - this._editor.getOption(67 /* EditorOption.lineHeight */) * stickyLine.index + 1;\n        this._editor.setScrollTop(scrollTop);\n        this._renderStickyScroll(line);\n    }\n    _readConfiguration() {\n        const options = this._editor.getOption(116 /* EditorOption.stickyScroll */);\n        if (options.enabled === false) {\n            this._editor.removeOverlayWidget(this._stickyScrollWidget);\n            this._sessionStore.clear();\n            this._enabled = false;\n            return;\n        }\n        else if (options.enabled && !this._enabled) {\n            // When sticky scroll was just enabled, add the listeners on the sticky scroll\n            this._editor.addOverlayWidget(this._stickyScrollWidget);\n            this._sessionStore.add(this._editor.onDidScrollChange((e) => {\n                if (e.scrollTopChanged) {\n                    this._showEndForLine = undefined;\n                    this._renderStickyScroll();\n                }\n            }));\n            this._sessionStore.add(this._editor.onDidLayoutChange(() => this._onDidResize()));\n            this._sessionStore.add(this._editor.onDidChangeModelTokens((e) => this._onTokensChange(e)));\n            this._sessionStore.add(this._stickyLineCandidateProvider.onDidChangeStickyScroll(() => {\n                this._showEndForLine = undefined;\n                this._renderStickyScroll();\n            }));\n            this._enabled = true;\n        }\n        const lineNumberOption = this._editor.getOption(68 /* EditorOption.lineNumbers */);\n        if (lineNumberOption.renderType === 2 /* RenderLineNumbersType.Relative */) {\n            this._sessionStore.add(this._editor.onDidChangeCursorPosition(() => {\n                this._showEndForLine = undefined;\n                this._renderStickyScroll(0);\n            }));\n        }\n    }\n    _readConfigurationChange(event) {\n        if (event.hasChanged(116 /* EditorOption.stickyScroll */)\n            || event.hasChanged(73 /* EditorOption.minimap */)\n            || event.hasChanged(67 /* EditorOption.lineHeight */)\n            || event.hasChanged(111 /* EditorOption.showFoldingControls */)\n            || event.hasChanged(68 /* EditorOption.lineNumbers */)) {\n            this._readConfiguration();\n        }\n        if (event.hasChanged(68 /* EditorOption.lineNumbers */)) {\n            this._renderStickyScroll(0);\n        }\n    }\n    _needsUpdate(event) {\n        const stickyLineNumbers = this._stickyScrollWidget.getCurrentLines();\n        for (const stickyLineNumber of stickyLineNumbers) {\n            for (const range of event.ranges) {\n                if (stickyLineNumber >= range.fromLineNumber && stickyLineNumber <= range.toLineNumber) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    _onTokensChange(event) {\n        if (this._needsUpdate(event)) {\n            // Rebuilding the whole widget from line 0\n            this._renderStickyScroll(0);\n        }\n    }\n    _onDidResize() {\n        const layoutInfo = this._editor.getLayoutInfo();\n        // Make sure sticky scroll doesn't take up more than 25% of the editor\n        const theoreticalLines = layoutInfo.height / this._editor.getOption(67 /* EditorOption.lineHeight */);\n        this._maxStickyLines = Math.round(theoreticalLines * .25);\n    }\n    async _renderStickyScroll(rebuildFromLine) {\n        const model = this._editor.getModel();\n        if (!model || model.isTooLargeForTokenization()) {\n            this._resetState();\n            return;\n        }\n        const nextRebuildFromLine = this._updateAndGetMinRebuildFromLine(rebuildFromLine);\n        const stickyWidgetVersion = this._stickyLineCandidateProvider.getVersionId();\n        const shouldUpdateState = stickyWidgetVersion === undefined || stickyWidgetVersion === model.getVersionId();\n        if (shouldUpdateState) {\n            if (!this._focused) {\n                await this._updateState(nextRebuildFromLine);\n            }\n            else {\n                // Suppose that previously the sticky scroll widget had height 0, then if there are visible lines, set the last line as focused\n                if (this._focusedStickyElementIndex === -1) {\n                    await this._updateState(nextRebuildFromLine);\n                    this._focusedStickyElementIndex = this._stickyScrollWidget.lineNumberCount - 1;\n                    if (this._focusedStickyElementIndex !== -1) {\n                        this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);\n                    }\n                }\n                else {\n                    const focusedStickyElementLineNumber = this._stickyScrollWidget.lineNumbers[this._focusedStickyElementIndex];\n                    await this._updateState(nextRebuildFromLine);\n                    // Suppose that after setting the state, there are no sticky lines, set the focused index to -1\n                    if (this._stickyScrollWidget.lineNumberCount === 0) {\n                        this._focusedStickyElementIndex = -1;\n                    }\n                    else {\n                        const previousFocusedLineNumberExists = this._stickyScrollWidget.lineNumbers.includes(focusedStickyElementLineNumber);\n                        // If the line number is still there, do not change anything\n                        // If the line number is not there, set the new focused line to be the last line\n                        if (!previousFocusedLineNumberExists) {\n                            this._focusedStickyElementIndex = this._stickyScrollWidget.lineNumberCount - 1;\n                        }\n                        this._stickyScrollWidget.focusLineWithIndex(this._focusedStickyElementIndex);\n                    }\n                }\n            }\n        }\n    }\n    _updateAndGetMinRebuildFromLine(rebuildFromLine) {\n        if (rebuildFromLine !== undefined) {\n            const minRebuildFromLineOrInfinity = this._minRebuildFromLine !== undefined ? this._minRebuildFromLine : Infinity;\n            this._minRebuildFromLine = Math.min(rebuildFromLine, minRebuildFromLineOrInfinity);\n        }\n        return this._minRebuildFromLine;\n    }\n    async _updateState(rebuildFromLine) {\n        this._minRebuildFromLine = undefined;\n        this._foldingModel = await FoldingController.get(this._editor)?.getFoldingModel() ?? undefined;\n        this._widgetState = this.findScrollWidgetState();\n        const stickyWidgetHasLines = this._widgetState.startLineNumbers.length > 0;\n        this._stickyScrollVisibleContextKey.set(stickyWidgetHasLines);\n        this._stickyScrollWidget.setState(this._widgetState, this._foldingModel, rebuildFromLine);\n    }\n    async _resetState() {\n        this._minRebuildFromLine = undefined;\n        this._foldingModel = undefined;\n        this._widgetState = StickyScrollWidgetState.Empty;\n        this._stickyScrollVisibleContextKey.set(false);\n        this._stickyScrollWidget.setState(undefined, undefined);\n    }\n    findScrollWidgetState() {\n        const lineHeight = this._editor.getOption(67 /* EditorOption.lineHeight */);\n        const maxNumberStickyLines = Math.min(this._maxStickyLines, this._editor.getOption(116 /* EditorOption.stickyScroll */).maxLineCount);\n        const scrollTop = this._editor.getScrollTop();\n        let lastLineRelativePosition = 0;\n        const startLineNumbers = [];\n        const endLineNumbers = [];\n        const arrayVisibleRanges = this._editor.getVisibleRanges();\n        if (arrayVisibleRanges.length !== 0) {\n            const fullVisibleRange = new StickyRange(arrayVisibleRanges[0].startLineNumber, arrayVisibleRanges[arrayVisibleRanges.length - 1].endLineNumber);\n            const candidateRanges = this._stickyLineCandidateProvider.getCandidateStickyLinesIntersecting(fullVisibleRange);\n            for (const range of candidateRanges) {\n                const start = range.startLineNumber;\n                const end = range.endLineNumber;\n                const depth = range.nestingDepth;\n                if (end - start > 0) {\n                    const topOfElementAtDepth = (depth - 1) * lineHeight;\n                    const bottomOfElementAtDepth = depth * lineHeight;\n                    const bottomOfBeginningLine = this._editor.getBottomForLineNumber(start) - scrollTop;\n                    const topOfEndLine = this._editor.getTopForLineNumber(end) - scrollTop;\n                    const bottomOfEndLine = this._editor.getBottomForLineNumber(end) - scrollTop;\n                    if (topOfElementAtDepth > topOfEndLine && topOfElementAtDepth <= bottomOfEndLine) {\n                        startLineNumbers.push(start);\n                        endLineNumbers.push(end + 1);\n                        lastLineRelativePosition = bottomOfEndLine - bottomOfElementAtDepth;\n                        break;\n                    }\n                    else if (bottomOfElementAtDepth > bottomOfBeginningLine && bottomOfElementAtDepth <= bottomOfEndLine) {\n                        startLineNumbers.push(start);\n                        endLineNumbers.push(end + 1);\n                    }\n                    if (startLineNumbers.length === maxNumberStickyLines) {\n                        break;\n                    }\n                }\n            }\n        }\n        this._endLineNumbers = endLineNumbers;\n        return new StickyScrollWidgetState(startLineNumbers, endLineNumbers, lastLineRelativePosition, this._showEndForLine);\n    }\n    dispose() {\n        super.dispose();\n        this._sessionStore.dispose();\n    }\n};\nStickyScrollController = StickyScrollController_1 = __decorate([\n    __param(1, IContextMenuService),\n    __param(2, ILanguageFeaturesService),\n    __param(3, IInstantiationService),\n    __param(4, ILanguageConfigurationService),\n    __param(5, ILanguageFeatureDebounceService),\n    __param(6, IContextKeyService)\n], StickyScrollController);\nexport { StickyScrollController };\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;AAW9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA,IAAI,aAAa,AAAC,IAAI,IAAI,IAAI,CAAC,UAAU,IAAK,SAAU,UAAU,EAAE,MAAM,EAAE,GAAG,EAAE,IAAI;IACjF,IAAI,IAAI,UAAU,MAAM,EAAE,IAAI,IAAI,IAAI,SAAS,SAAS,OAAO,OAAO,OAAO,wBAAwB,CAAC,QAAQ,OAAO,MAAM;IAC3H,IAAI,OAAO,YAAY,YAAY,OAAO,QAAQ,QAAQ,KAAK,YAAY,IAAI,QAAQ,QAAQ,CAAC,YAAY,QAAQ,KAAK;SACpH,IAAK,IAAI,IAAI,WAAW,MAAM,GAAG,GAAG,KAAK,GAAG,IAAK,IAAI,IAAI,UAAU,CAAC,EAAE,EAAE,IAAI,CAAC,IAAI,IAAI,EAAE,KAAK,IAAI,IAAI,EAAE,QAAQ,KAAK,KAAK,EAAE,QAAQ,IAAI,KAAK;IAChJ,OAAO,IAAI,KAAK,KAAK,OAAO,cAAc,CAAC,QAAQ,KAAK,IAAI;AAChE;AACA,IAAI,UAAU,AAAC,IAAI,IAAI,IAAI,CAAC,OAAO,IAAK,SAAU,UAAU,EAAE,SAAS;IACnE,OAAO,SAAU,MAAM,EAAE,GAAG;QAAI,UAAU,QAAQ,KAAK;IAAa;AACxE;AACA,IAAI;;;;;;;;;;;;;;;;;;;;;;;AAuBJ,IAAI,yBAAyB,MAAM,+BAA+B,+KAAA,CAAA,aAAU;IACxE,MAAO;QAAE,2BAA2B,IAAI;IAAE,CAAC;IAC3C,MAAO;QAAE,IAAI,CAAC,EAAE,GAAG;IAAwC,CAAC;IAC5D,YAAY,OAAO,EAAE,mBAAmB,EAAE,wBAAwB,EAAE,aAAa,EAAE,6BAA6B,EAAE,+BAA+B,EAAE,kBAAkB,CAAE;QACnK,KAAK;QACL,IAAI,CAAC,OAAO,GAAG;QACf,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,wBAAwB,GAAG;QAChC,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,kBAAkB,GAAG;QAC1B,IAAI,CAAC,aAAa,GAAG,IAAI,+KAAA,CAAA,kBAAe;QACxC,IAAI,CAAC,eAAe,GAAG,OAAO,gBAAgB;QAC9C,IAAI,CAAC,2BAA2B,GAAG,CAAC;QACpC,IAAI,CAAC,0BAA0B,GAAG,CAAC;QACnC,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,iBAAiB,GAAG;QACzB,IAAI,CAAC,YAAY,GAAG;QACpB,IAAI,CAAC,eAAe,GAAG,EAAE;QACzB,IAAI,CAAC,mBAAmB,GAAG,IAAI,sNAAA,CAAA,qBAAkB,CAAC,IAAI,CAAC,OAAO;QAC9D,IAAI,CAAC,4BAA4B,GAAG,IAAI,wNAAA,CAAA,8BAA2B,CAAC,IAAI,CAAC,OAAO,EAAE,0BAA0B;QAC5G,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB;QACvC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,4BAA4B;QAChD,IAAI,CAAC,YAAY,GAAG,sNAAA,CAAA,0BAAuB,CAAC,KAAK;QACjD,IAAI,CAAC,YAAY;QACjB,IAAI,CAAC,kBAAkB;QACvB,MAAM,sBAAsB,IAAI,CAAC,mBAAmB,CAAC,UAAU;QAC/D,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,OAAO,CAAC,wBAAwB,CAAC,CAAA;YACjD,IAAI,CAAC,wBAAwB,CAAC;QAClC;QACA,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,wBAAyB,AAAD,EAAE,qBAAqB,0KAAA,CAAA,YAAa,CAAC,YAAY,EAAE,OAAO;YAC7F,IAAI,CAAC,cAAc,CAAC,CAAA,GAAA,0KAAA,CAAA,YAAa,AAAD,EAAE,sBAAsB;QAC5D;QACA,IAAI,CAAC,8BAA8B,GAAG,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB;QAC1G,IAAI,CAAC,8BAA8B,GAAG,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,MAAM,CAAC,IAAI,CAAC,kBAAkB;QAC1G,MAAM,eAAe,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,aAAc,AAAD,EAAE;QACnD,IAAI,CAAC,SAAS,CAAC,aAAa,SAAS,CAAC,CAAA;YAClC,6FAA6F;YAC7F,wHAAwH;YACxH,IAAI,IAAI,CAAC,iBAAiB,KAAK,SAAS,oBAAoB,YAAY,KAAK,GAAG;gBAC5E,IAAI,CAAC,0BAA0B,GAAG,CAAC;gBACnC,IAAI,CAAC,KAAK;YACd,OAEK;gBACD,IAAI,CAAC,8BAA8B;YACvC;QACJ;QACA,IAAI,CAAC,SAAS,CAAC,aAAa,UAAU,CAAC,CAAA;YACnC,IAAI,CAAC,KAAK;QACd;QACA,IAAI,CAAC,uBAAuB;QAC5B,oJAAoJ;QACpJ,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,wBAAyB,AAAD,EAAE,qBAAqB,0KAAA,CAAA,YAAa,CAAC,UAAU,EAAE,CAAC;YACrF,IAAI,CAAC,YAAY,GAAG;QACxB;IACJ;IACA,OAAO,IAAI,MAAM,EAAE;QACf,OAAO,OAAO,eAAe,CAAC,yBAAyB,EAAE;IAC7D;IACA,iCAAiC;QAC7B,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC;QACxC,IAAI,CAAC,qBAAqB,EAAE;QAC5B,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,iBAAiB,GAAG;QACzB,IAAI,CAAC,YAAY,GAAG;IACxB;IACA,QAAQ;QACJ,0DAA0D;QAC1D,IAAI,IAAI,CAAC,YAAY,EAAE;YACnB,IAAI,CAAC,YAAY,GAAG;YACpB,IAAI,CAAC,OAAO,CAAC,KAAK;YAClB;QACJ;QACA,MAAM,aAAa,IAAI,CAAC,8BAA8B,CAAC,GAAG;QAC1D,IAAI,eAAe,MAAM;YACrB;QACJ;QACA,IAAI,CAAC,QAAQ,GAAG;QAChB,IAAI,CAAC,qBAAqB,GAAG,IAAI,+KAAA,CAAA,kBAAe;QAChD,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC;QACxC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,MAAM,GAAG;QAChF,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,0BAA0B;IAC/E;IACA,YAAY;QACR,IAAI,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG,GAAG;YAChF,IAAI,CAAC,SAAS,CAAC;QACnB;IACJ;IACA,gBAAgB;QACZ,IAAI,IAAI,CAAC,0BAA0B,GAAG,GAAG;YACrC,IAAI,CAAC,SAAS,CAAC;QACnB;IACJ;IACA,eAAe;QACX,IAAI,CAAC,OAAO,CAAC,KAAK;IACtB;IACA,kCAAkC;IAClC,UAAU,SAAS,EAAE;QACjB,IAAI,CAAC,0BAA0B,GAAG,YAAY,IAAI,CAAC,0BAA0B,GAAG,IAAI,IAAI,CAAC,0BAA0B,GAAG;QACtH,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,0BAA0B;IAC/E;IACA,cAAc;QACV,MAAM,cAAc,IAAI,CAAC,mBAAmB,CAAC,WAAW;QACxD,IAAI,CAAC,8BAA8B;QACnC,IAAI,CAAC,eAAe,CAAC;YAAE,YAAY,WAAW,CAAC,IAAI,CAAC,0BAA0B,CAAC;YAAE,QAAQ;QAAE;IAC/F;IACA,gBAAgB,QAAQ,EAAE;QACtB,IAAI,CAAC,cAAc,CAAC,UAAU,IAAM,IAAI,CAAC,OAAO,CAAC,cAAc,CAAC;IACpE;IACA,qCAAqC,QAAQ,EAAE;QAC3C,IAAI,CAAC,cAAc,CAAC,UAAU,IAAM,IAAI,CAAC,OAAO,CAAC,mCAAmC,CAAC,SAAS,UAAU,EAAE,EAAE,qBAAqB;IACrI;IACA,eAAe,QAAQ,EAAE,cAAc,EAAE;QACrC,IAAI,IAAI,CAAC,QAAQ,EAAE;YACf,IAAI,CAAC,8BAA8B;QACvC;QACA,IAAI,CAAC,iBAAiB,GAAG;QACzB;QACA,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,qLAAA,CAAA,QAAK,CAAC,aAAa,CAAC;QAC9C,IAAI,CAAC,OAAO,CAAC,KAAK;IACtB;IACA,0BAA0B;QACtB,MAAM,eAAe,IAAI,CAAC,SAAS,CAAC,IAAI,+KAAA,CAAA,kBAAe;QACvD,MAAM,UAAU,IAAI,CAAC,SAAS,CAAC,IAAI,0NAAA,CAAA,mBAAgB,CAAC,IAAI,CAAC,OAAO,EAAE;YAC9D,iCAAiC,CAAC;gBAC9B,MAAM,WAAW,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,EAAE,MAAM,CAAC,OAAO;gBACpF,OAAO,WAAW,SAAS,UAAU,GAAG;YAC5C;QACJ;QACA,MAAM,sBAAsB,CAAC;YACzB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;gBAC1B,OAAO;YACX;YACA,IAAI,WAAW,MAAM,CAAC,IAAI,KAAK,GAAG,kCAAkC,OAAM,WAAW,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,mBAAmB,CAAC,KAAK,IAAI;gBACrI,+BAA+B;gBAC/B,OAAO;YACX;YACA,MAAM,qBAAqB,WAAW,MAAM,CAAC,OAAO;YACpD,IAAI,CAAC,sBAAsB,mBAAmB,SAAS,KAAK,mBAAmB,SAAS,EAAE;gBACtF,uCAAuC;gBACvC,OAAO;YACX;YACA,MAAM,WAAW,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC;YACpE,IAAI,CAAC,UAAU;gBACX,oCAAoC;gBACpC,OAAO;YACX;YACA,OAAO;gBACH,OAAO,IAAI,qLAAA,CAAA,QAAK,CAAC,SAAS,UAAU,EAAE,SAAS,MAAM,EAAE,SAAS,UAAU,EAAE,SAAS,MAAM,GAAG,mBAAmB,SAAS,CAAC,MAAM;gBACjI,aAAa;YACjB;QACJ;QACA,MAAM,4BAA4B,IAAI,CAAC,mBAAmB,CAAC,UAAU;QACrE,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,gCAAiC,AAAD,EAAE,2BAA2B,0KAAA,CAAA,YAAa,CAAC,KAAK,EAAE,CAAC;YAC9F,IAAI,WAAW,OAAO,IAAI,WAAW,MAAM,IAAI,WAAW,OAAO,EAAE;gBAC/D,mBAAmB;gBACnB;YACJ;YACA,IAAI,CAAC,WAAW,UAAU,EAAE;gBACxB,iBAAiB;gBACjB;YACJ;YACA,IAAI,WAAW,QAAQ,EAAE;gBACrB,cAAc;gBACd,MAAM,YAAY,IAAI,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,WAAW,MAAM;gBACzF,IAAI,cAAc,MAAM;oBACpB;gBACJ;gBACA,MAAM,WAAW,IAAI,wLAAA,CAAA,WAAQ,CAAC,IAAI,CAAC,eAAe,CAAC,UAAU,EAAE;gBAC/D,IAAI,CAAC,oCAAoC,CAAC;gBAC1C;YACJ;YACA,MAAM,yBAAyB,IAAI,CAAC,mBAAmB,CAAC,sBAAsB,CAAC,WAAW,MAAM;YAChG,IAAI,wBAAwB;gBACxB,0BAA0B;gBAC1B,MAAM,aAAa,IAAI,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,WAAW,MAAM;gBAC3F,IAAI,CAAC,2BAA2B,CAAC;gBACjC;YACJ;YACA,MAAM,iBAAiB,IAAI,CAAC,mBAAmB,CAAC,cAAc,CAAC,WAAW,MAAM;YAChF,IAAI,CAAC,gBAAgB;gBACjB;YACJ;YACA,eAAe;YACf,IAAI,WAAW,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,WAAW,MAAM;YACnF,IAAI,CAAC,UAAU;gBACX,MAAM,aAAa,IAAI,CAAC,mBAAmB,CAAC,6BAA6B,CAAC,WAAW,MAAM;gBAC3F,IAAI,eAAe,MAAM;oBACrB,oCAAoC;oBACpC;gBACJ;gBACA,WAAW,IAAI,wLAAA,CAAA,WAAQ,CAAC,YAAY;YACxC;YACA,IAAI,CAAC,eAAe,CAAC;QACzB;QACA,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,gCAAiC,AAAD,EAAE,2BAA2B,0KAAA,CAAA,YAAa,CAAC,UAAU,EAAE,CAAC;YACnG,IAAI,WAAW,QAAQ,EAAE;gBACrB,MAAM,yBAAyB,IAAI,CAAC,mBAAmB,CAAC,4BAA4B,CAAC,WAAW,MAAM;gBACtG,IAAI,2BAA2B,QAAQ,IAAI,CAAC,eAAe,KAAK,QAAQ,IAAI,CAAC,eAAe,KAAK,wBAAwB;oBACrH;gBACJ;gBACA,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,mBAAmB;gBACxB;YACJ;YACA,IAAI,IAAI,CAAC,eAAe,KAAK,WAAW;gBACpC,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,mBAAmB;YAC5B;QACJ;QACA,IAAI,CAAC,SAAS,CAAC,CAAA,GAAA,0KAAA,CAAA,wBAAyB,AAAD,EAAE,2BAA2B,0KAAA,CAAA,YAAa,CAAC,WAAW,EAAE,CAAC;YAC5F,IAAI,IAAI,CAAC,eAAe,KAAK,WAAW;gBACpC,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,mBAAmB;YAC5B;QACJ;QACA,IAAI,CAAC,SAAS,CAAC,QAAQ,4BAA4B,CAAC,CAAC,CAAC,YAAY,eAAe;YAC7E,MAAM,cAAc,oBAAoB;YACxC,IAAI,CAAC,eAAe,CAAC,WAAW,kBAAkB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI;gBAC5E,aAAa,KAAK;gBAClB;YACJ;YACA,MAAM,EAAE,KAAK,EAAE,WAAW,EAAE,GAAG;YAC/B,IAAI,CAAC,MAAM,WAAW,CAAC,IAAI,CAAC,6BAA6B,GAAG;gBACxD,IAAI,CAAC,6BAA6B,GAAG;gBACrC,aAAa,KAAK;YACtB,OACK,IAAI,YAAY,KAAK,CAAC,cAAc,KAAK,aAAa;gBACvD;YACJ;YACA,MAAM,oBAAoB,IAAI,kLAAA,CAAA,0BAAuB;YACrD,aAAa,GAAG,CAAC,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE,IAAM,kBAAkB,OAAO,CAAC;YAC9D,IAAI;YACJ,CAAA,GAAA,4MAAA,CAAA,2BAAwB,AAAD,EAAE,IAAI,CAAC,wBAAwB,CAAC,kBAAkB,EAAE,IAAI,CAAC,OAAO,CAAC,QAAQ,IAAI,IAAI,wLAAA,CAAA,WAAQ,CAAC,MAAM,eAAe,EAAE,MAAM,WAAW,GAAG,IAAI,OAAO,kBAAkB,KAAK,EAAE,IAAI,CAAE,CAAA;gBAClM,IAAI,kBAAkB,KAAK,CAAC,uBAAuB,EAAE;oBACjD;gBACJ;gBACA,IAAI,qBAAqB,MAAM,KAAK,GAAG;oBACnC,IAAI,CAAC,2BAA2B,GAAG,qBAAqB,MAAM;oBAC9D,MAAM,YAAY;oBAClB,IAAI,qBAAqB,WAAW;wBAChC,aAAa,KAAK;wBAClB,mBAAmB;wBACnB,iBAAiB,KAAK,CAAC,cAAc,GAAG;wBACxC,aAAa,GAAG,CAAC,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE;4BAC1B,iBAAiB,KAAK,CAAC,cAAc,GAAG;wBAC5C;oBACJ,OACK,IAAI,CAAC,kBAAkB;wBACxB,mBAAmB;wBACnB,iBAAiB,KAAK,CAAC,cAAc,GAAG;wBACxC,aAAa,GAAG,CAAC,CAAA,GAAA,+KAAA,CAAA,eAAY,AAAD,EAAE;4BAC1B,iBAAiB,KAAK,CAAC,cAAc,GAAG;wBAC5C;oBACJ;gBACJ,OACK;oBACD,aAAa,KAAK;gBACtB;YACJ;QACJ;QACA,IAAI,CAAC,SAAS,CAAC,QAAQ,QAAQ,CAAC;YAC5B,aAAa,KAAK;QACtB;QACA,IAAI,CAAC,SAAS,CAAC,QAAQ,SAAS,CAAC,OAAO;YACpC,IAAI,EAAE,MAAM,CAAC,IAAI,KAAK,GAAG,kCAAkC,OAAM,EAAE,MAAM,CAAC,MAAM,KAAK,IAAI,CAAC,mBAAmB,CAAC,KAAK,IAAI;gBACnH,+BAA+B;gBAC/B;YACJ;YACA,MAAM,WAAW,IAAI,CAAC,mBAAmB,CAAC,yBAAyB,CAAC,EAAE,MAAM,CAAC,OAAO;YACpF,IAAI,CAAC,UAAU;gBACX,oCAAoC;gBACpC;YACJ;YACA,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,MAAM,CAAC,IAAI,CAAC,6BAA6B,EAAE;gBACjE;YACJ;YACA,IAAI,IAAI,CAAC,2BAA2B,GAAG,GAAG;gBACtC,IAAI,IAAI,CAAC,QAAQ,EAAE;oBACf,IAAI,CAAC,8BAA8B;gBACvC;gBACA,IAAI,CAAC,eAAe,CAAC;oBAAE,YAAY,SAAS,UAAU;oBAAE,QAAQ;gBAAE;YACtE;YACA,IAAI,CAAC,aAAa,CAAC,cAAc,CAAC,qNAAA,CAAA,6BAA0B,EAAE,GAAG,IAAI,CAAC,OAAO,EAAE;gBAAE,KAAK,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,GAAG;gBAAE,OAAO,IAAI,CAAC,6BAA6B;YAAC;QACjK;IACJ;IACA,eAAe,YAAY,EAAE,CAAC,EAAE;QAC5B,MAAM,QAAQ,IAAI,iLAAA,CAAA,qBAAkB,CAAC,cAAc;QACnD,IAAI,CAAC,mBAAmB,CAAC,eAAe,CAAC;YACrC,QAAQ,4LAAA,CAAA,SAAM,CAAC,mBAAmB;YAClC,WAAW,IAAM;QACrB;IACJ;IACA,4BAA4B,IAAI,EAAE;QAC9B,IAAI,CAAC,IAAI,CAAC,aAAa,IAAI,SAAS,MAAM;YACtC;QACJ;QACA,MAAM,aAAa,IAAI,CAAC,mBAAmB,CAAC,qBAAqB,CAAC;QAClE,MAAM,cAAc,YAAY;QAChC,IAAI,CAAC,aAAa;YACd;QACJ;QACA,CAAA,GAAA,2MAAA,CAAA,sBAAmB,AAAD,EAAE,IAAI,CAAC,aAAa,EAAE,OAAO,SAAS,EAAE;YAAC;SAAK;QAChE,YAAY,WAAW,GAAG,CAAC,YAAY,WAAW;QAClD,MAAM,YAAY,CAAC,YAAY,WAAW,GACtC,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,cAAc,IACzD,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,YAAY,gBAAgB,CAAC,IAC9D,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,2BAA2B,OAAM,WAAW,KAAK,GAAG;QACpF,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC;QAC1B,IAAI,CAAC,mBAAmB,CAAC;IAC7B;IACA,qBAAqB;QACjB,MAAM,UAAU,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,6BAA6B;QACxE,IAAI,QAAQ,OAAO,KAAK,OAAO;YAC3B,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,IAAI,CAAC,mBAAmB;YACzD,IAAI,CAAC,aAAa,CAAC,KAAK;YACxB,IAAI,CAAC,QAAQ,GAAG;YAChB;QACJ,OACK,IAAI,QAAQ,OAAO,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;YACxC,8EAA8E;YAC9E,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,IAAI,CAAC,mBAAmB;YACtD,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,CAAC;gBACnD,IAAI,EAAE,gBAAgB,EAAE;oBACpB,IAAI,CAAC,eAAe,GAAG;oBACvB,IAAI,CAAC,mBAAmB;gBAC5B;YACJ;YACA,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,iBAAiB,CAAC,IAAM,IAAI,CAAC,YAAY;YAC7E,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,CAAC,IAAM,IAAI,CAAC,eAAe,CAAC;YACvF,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,4BAA4B,CAAC,uBAAuB,CAAC;gBAC7E,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,mBAAmB;YAC5B;YACA,IAAI,CAAC,QAAQ,GAAG;QACpB;QACA,MAAM,mBAAmB,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,4BAA4B;QAC/E,IAAI,iBAAiB,UAAU,KAAK,EAAE,kCAAkC,KAAI;YACxE,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC;gBAC1D,IAAI,CAAC,eAAe,GAAG;gBACvB,IAAI,CAAC,mBAAmB,CAAC;YAC7B;QACJ;IACJ;IACA,yBAAyB,KAAK,EAAE;QAC5B,IAAI,MAAM,UAAU,CAAC,IAAI,6BAA6B,QAC/C,MAAM,UAAU,CAAC,GAAG,wBAAwB,QAC5C,MAAM,UAAU,CAAC,GAAG,2BAA2B,QAC/C,MAAM,UAAU,CAAC,IAAI,oCAAoC,QACzD,MAAM,UAAU,CAAC,GAAG,4BAA4B,MAAK;YACxD,IAAI,CAAC,kBAAkB;QAC3B;QACA,IAAI,MAAM,UAAU,CAAC,GAAG,4BAA4B,MAAK;YACrD,IAAI,CAAC,mBAAmB,CAAC;QAC7B;IACJ;IACA,aAAa,KAAK,EAAE;QAChB,MAAM,oBAAoB,IAAI,CAAC,mBAAmB,CAAC,eAAe;QAClE,KAAK,MAAM,oBAAoB,kBAAmB;YAC9C,KAAK,MAAM,SAAS,MAAM,MAAM,CAAE;gBAC9B,IAAI,oBAAoB,MAAM,cAAc,IAAI,oBAAoB,MAAM,YAAY,EAAE;oBACpF,OAAO;gBACX;YACJ;QACJ;QACA,OAAO;IACX;IACA,gBAAgB,KAAK,EAAE;QACnB,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ;YAC1B,0CAA0C;YAC1C,IAAI,CAAC,mBAAmB,CAAC;QAC7B;IACJ;IACA,eAAe;QACX,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,aAAa;QAC7C,sEAAsE;QACtE,MAAM,mBAAmB,WAAW,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,2BAA2B;QAClG,IAAI,CAAC,eAAe,GAAG,KAAK,KAAK,CAAC,mBAAmB;IACzD;IACA,MAAM,oBAAoB,eAAe,EAAE;QACvC,MAAM,QAAQ,IAAI,CAAC,OAAO,CAAC,QAAQ;QACnC,IAAI,CAAC,SAAS,MAAM,yBAAyB,IAAI;YAC7C,IAAI,CAAC,WAAW;YAChB;QACJ;QACA,MAAM,sBAAsB,IAAI,CAAC,+BAA+B,CAAC;QACjE,MAAM,sBAAsB,IAAI,CAAC,4BAA4B,CAAC,YAAY;QAC1E,MAAM,oBAAoB,wBAAwB,aAAa,wBAAwB,MAAM,YAAY;QACzG,IAAI,mBAAmB;YACnB,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE;gBAChB,MAAM,IAAI,CAAC,YAAY,CAAC;YAC5B,OACK;gBACD,+HAA+H;gBAC/H,IAAI,IAAI,CAAC,0BAA0B,KAAK,CAAC,GAAG;oBACxC,MAAM,IAAI,CAAC,YAAY,CAAC;oBACxB,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG;oBAC7E,IAAI,IAAI,CAAC,0BAA0B,KAAK,CAAC,GAAG;wBACxC,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,0BAA0B;oBAC/E;gBACJ,OACK;oBACD,MAAM,iCAAiC,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,IAAI,CAAC,0BAA0B,CAAC;oBAC5G,MAAM,IAAI,CAAC,YAAY,CAAC;oBACxB,+FAA+F;oBAC/F,IAAI,IAAI,CAAC,mBAAmB,CAAC,eAAe,KAAK,GAAG;wBAChD,IAAI,CAAC,0BAA0B,GAAG,CAAC;oBACvC,OACK;wBACD,MAAM,kCAAkC,IAAI,CAAC,mBAAmB,CAAC,WAAW,CAAC,QAAQ,CAAC;wBACtF,4DAA4D;wBAC5D,gFAAgF;wBAChF,IAAI,CAAC,iCAAiC;4BAClC,IAAI,CAAC,0BAA0B,GAAG,IAAI,CAAC,mBAAmB,CAAC,eAAe,GAAG;wBACjF;wBACA,IAAI,CAAC,mBAAmB,CAAC,kBAAkB,CAAC,IAAI,CAAC,0BAA0B;oBAC/E;gBACJ;YACJ;QACJ;IACJ;IACA,gCAAgC,eAAe,EAAE;QAC7C,IAAI,oBAAoB,WAAW;YAC/B,MAAM,+BAA+B,IAAI,CAAC,mBAAmB,KAAK,YAAY,IAAI,CAAC,mBAAmB,GAAG;YACzG,IAAI,CAAC,mBAAmB,GAAG,KAAK,GAAG,CAAC,iBAAiB;QACzD;QACA,OAAO,IAAI,CAAC,mBAAmB;IACnC;IACA,MAAM,aAAa,eAAe,EAAE;QAChC,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,aAAa,GAAG,MAAM,sMAAA,CAAA,oBAAiB,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,qBAAqB;QACrF,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,qBAAqB;QAC9C,MAAM,uBAAuB,IAAI,CAAC,YAAY,CAAC,gBAAgB,CAAC,MAAM,GAAG;QACzE,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC;QACxC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,EAAE,IAAI,CAAC,aAAa,EAAE;IAC7E;IACA,MAAM,cAAc;QAChB,IAAI,CAAC,mBAAmB,GAAG;QAC3B,IAAI,CAAC,aAAa,GAAG;QACrB,IAAI,CAAC,YAAY,GAAG,sNAAA,CAAA,0BAAuB,CAAC,KAAK;QACjD,IAAI,CAAC,8BAA8B,CAAC,GAAG,CAAC;QACxC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,WAAW;IACjD;IACA,wBAAwB;QACpB,MAAM,aAAa,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,2BAA2B;QACxE,MAAM,uBAAuB,KAAK,GAAG,CAAC,IAAI,CAAC,eAAe,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,IAAI,6BAA6B,KAAI,YAAY;QACpI,MAAM,YAAY,IAAI,CAAC,OAAO,CAAC,YAAY;QAC3C,IAAI,2BAA2B;QAC/B,MAAM,mBAAmB,EAAE;QAC3B,MAAM,iBAAiB,EAAE;QACzB,MAAM,qBAAqB,IAAI,CAAC,OAAO,CAAC,gBAAgB;QACxD,IAAI,mBAAmB,MAAM,KAAK,GAAG;YACjC,MAAM,mBAAmB,IAAI,uNAAA,CAAA,cAAW,CAAC,kBAAkB,CAAC,EAAE,CAAC,eAAe,EAAE,kBAAkB,CAAC,mBAAmB,MAAM,GAAG,EAAE,CAAC,aAAa;YAC/I,MAAM,kBAAkB,IAAI,CAAC,4BAA4B,CAAC,mCAAmC,CAAC;YAC9F,KAAK,MAAM,SAAS,gBAAiB;gBACjC,MAAM,QAAQ,MAAM,eAAe;gBACnC,MAAM,MAAM,MAAM,aAAa;gBAC/B,MAAM,QAAQ,MAAM,YAAY;gBAChC,IAAI,MAAM,QAAQ,GAAG;oBACjB,MAAM,sBAAsB,CAAC,QAAQ,CAAC,IAAI;oBAC1C,MAAM,yBAAyB,QAAQ;oBACvC,MAAM,wBAAwB,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,SAAS;oBAC3E,MAAM,eAAe,IAAI,CAAC,OAAO,CAAC,mBAAmB,CAAC,OAAO;oBAC7D,MAAM,kBAAkB,IAAI,CAAC,OAAO,CAAC,sBAAsB,CAAC,OAAO;oBACnE,IAAI,sBAAsB,gBAAgB,uBAAuB,iBAAiB;wBAC9E,iBAAiB,IAAI,CAAC;wBACtB,eAAe,IAAI,CAAC,MAAM;wBAC1B,2BAA2B,kBAAkB;wBAC7C;oBACJ,OACK,IAAI,yBAAyB,yBAAyB,0BAA0B,iBAAiB;wBAClG,iBAAiB,IAAI,CAAC;wBACtB,eAAe,IAAI,CAAC,MAAM;oBAC9B;oBACA,IAAI,iBAAiB,MAAM,KAAK,sBAAsB;wBAClD;oBACJ;gBACJ;YACJ;QACJ;QACA,IAAI,CAAC,eAAe,GAAG;QACvB,OAAO,IAAI,sNAAA,CAAA,0BAAuB,CAAC,kBAAkB,gBAAgB,0BAA0B,IAAI,CAAC,eAAe;IACvH;IACA,UAAU;QACN,KAAK,CAAC;QACN,IAAI,CAAC,aAAa,CAAC,OAAO;IAC9B;AACJ;AACA,yBAAyB,2BAA2B,WAAW;IAC3D,QAAQ,GAAG,qMAAA,CAAA,sBAAmB;IAC9B,QAAQ,GAAG,oMAAA,CAAA,2BAAwB;IACnC,QAAQ,GAAG,wMAAA,CAAA,wBAAqB;IAChC,QAAQ,GAAG,kNAAA,CAAA,gCAA6B;IACxC,QAAQ,GAAG,2MAAA,CAAA,kCAA+B;IAC1C,QAAQ,GAAG,kMAAA,CAAA,qBAAkB;CAChC,EAAE","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1590, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollActions.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { EditorAction2 } from '../../../browser/editorExtensions.js';\nimport { localize, localize2 } from '../../../../nls.js';\nimport { Categories } from '../../../../platform/action/common/actionCommonCategories.js';\nimport { Action2, MenuId } from '../../../../platform/actions/common/actions.js';\nimport { IConfigurationService } from '../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { StickyScrollController } from './stickyScrollController.js';\nexport class ToggleStickyScroll extends Action2 {\n    constructor() {\n        super({\n            id: 'editor.action.toggleStickyScroll',\n            title: {\n                ...localize2('toggleEditorStickyScroll', \"Toggle Editor Sticky Scroll\"),\n                mnemonicTitle: localize({ key: 'mitoggleStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Toggle Editor Sticky Scroll\"),\n            },\n            metadata: {\n                description: localize2('toggleEditorStickyScroll.description', \"Toggle/enable the editor sticky scroll which shows the nested scopes at the top of the viewport\"),\n            },\n            category: Categories.View,\n            toggled: {\n                condition: ContextKeyExpr.equals('config.editor.stickyScroll.enabled', true),\n                title: localize('stickyScroll', \"Sticky Scroll\"),\n                mnemonicTitle: localize({ key: 'miStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Sticky Scroll\"),\n            },\n            menu: [\n                { id: MenuId.CommandPalette },\n                { id: MenuId.MenubarAppearanceMenu, group: '4_editor', order: 3 },\n                { id: MenuId.StickyScrollContext }\n            ]\n        });\n    }\n    async run(accessor) {\n        const configurationService = accessor.get(IConfigurationService);\n        const newValue = !configurationService.getValue('editor.stickyScroll.enabled');\n        return configurationService.updateValue('editor.stickyScroll.enabled', newValue);\n    }\n}\nconst weight = 100 /* KeybindingWeight.EditorContrib */;\nexport class FocusStickyScroll extends EditorAction2 {\n    constructor() {\n        super({\n            id: 'editor.action.focusStickyScroll',\n            title: {\n                ...localize2('focusStickyScroll', \"Focus on the editor sticky scroll\"),\n                mnemonicTitle: localize({ key: 'mifocusStickyScroll', comment: ['&& denotes a mnemonic'] }, \"&&Focus Sticky Scroll\"),\n            },\n            precondition: ContextKeyExpr.and(ContextKeyExpr.has('config.editor.stickyScroll.enabled'), EditorContextKeys.stickyScrollVisible),\n            menu: [\n                { id: MenuId.CommandPalette },\n            ]\n        });\n    }\n    runEditorCommand(_accessor, editor) {\n        StickyScrollController.get(editor)?.focus();\n    }\n}\nexport class SelectNextStickyScrollLine extends EditorAction2 {\n    constructor() {\n        super({\n            id: 'editor.action.selectNextStickyScrollLine',\n            title: localize2('selectNextStickyScrollLine.title', \"Select the next editor sticky scroll line\"),\n            precondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n            keybinding: {\n                weight,\n                primary: 18 /* KeyCode.DownArrow */\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor) {\n        StickyScrollController.get(editor)?.focusNext();\n    }\n}\nexport class SelectPreviousStickyScrollLine extends EditorAction2 {\n    constructor() {\n        super({\n            id: 'editor.action.selectPreviousStickyScrollLine',\n            title: localize2('selectPreviousStickyScrollLine.title', \"Select the previous sticky scroll line\"),\n            precondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n            keybinding: {\n                weight,\n                primary: 16 /* KeyCode.UpArrow */\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor) {\n        StickyScrollController.get(editor)?.focusPrevious();\n    }\n}\nexport class GoToStickyScrollLine extends EditorAction2 {\n    constructor() {\n        super({\n            id: 'editor.action.goToFocusedStickyScrollLine',\n            title: localize2('goToFocusedStickyScrollLine.title', \"Go to the focused sticky scroll line\"),\n            precondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n            keybinding: {\n                weight,\n                primary: 3 /* KeyCode.Enter */\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor) {\n        StickyScrollController.get(editor)?.goToFocused();\n    }\n}\nexport class SelectEditor extends EditorAction2 {\n    constructor() {\n        super({\n            id: 'editor.action.selectEditor',\n            title: localize2('selectEditor.title', \"Select Editor\"),\n            precondition: EditorContextKeys.stickyScrollFocused.isEqualTo(true),\n            keybinding: {\n                weight,\n                primary: 9 /* KeyCode.Escape */\n            }\n        });\n    }\n    runEditorCommand(_accessor, editor) {\n        StickyScrollController.get(editor)?.selectEditor();\n    }\n}\n"],"names":[],"mappings":"AAAA;;;8FAG8F;;;;;;;;AAC9F;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;AACO,MAAM,2BAA2B,4LAAA,CAAA,UAAO;IAC3C,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO;gBACH,GAAG,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,4BAA4B,8BAA8B;gBACvE,eAAe,CAAA,GAAA,uKAAA,CAAA,WAAQ,AAAD,EAAE;oBAAE,KAAK;oBAAwB,SAAS;wBAAC;qBAAwB;gBAAC,GAAG;YACjG;YACA,UAAU;gBACN,aAAa,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,wCAAwC;YACnE;YACA,UAAU,0MAAA,CAAA,aAAU,CAAC,IAAI;YACzB,SAAS;gBACL,WAAW,kMAAA,CAAA,iBAAc,CAAC,MAAM,CAAC,sCAAsC;gBACvE,OAAO,CAAA,GAAA,uKAAA,CAAA,WAAQ,AAAD,EAAE,gBAAgB;gBAChC,eAAe,CAAA,GAAA,uKAAA,CAAA,WAAQ,AAAD,EAAE;oBAAE,KAAK;oBAAkB,SAAS;wBAAC;qBAAwB;gBAAC,GAAG;YAC3F;YACA,MAAM;gBACF;oBAAE,IAAI,4LAAA,CAAA,SAAM,CAAC,cAAc;gBAAC;gBAC5B;oBAAE,IAAI,4LAAA,CAAA,SAAM,CAAC,qBAAqB;oBAAE,OAAO;oBAAY,OAAO;gBAAE;gBAChE;oBAAE,IAAI,4LAAA,CAAA,SAAM,CAAC,mBAAmB;gBAAC;aACpC;QACL;IACJ;IACA,MAAM,IAAI,QAAQ,EAAE;QAChB,MAAM,uBAAuB,SAAS,GAAG,CAAC,wMAAA,CAAA,wBAAqB;QAC/D,MAAM,WAAW,CAAC,qBAAqB,QAAQ,CAAC;QAChD,OAAO,qBAAqB,WAAW,CAAC,+BAA+B;IAC3E;AACJ;AACA,MAAM,SAAS,IAAI,kCAAkC;AAC9C,MAAM,0BAA0B,yLAAA,CAAA,gBAAa;IAChD,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO;gBACH,GAAG,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,qBAAqB,oCAAoC;gBACtE,eAAe,CAAA,GAAA,uKAAA,CAAA,WAAQ,AAAD,EAAE;oBAAE,KAAK;oBAAuB,SAAS;wBAAC;qBAAwB;gBAAC,GAAG;YAChG;YACA,cAAc,kMAAA,CAAA,iBAAc,CAAC,GAAG,CAAC,kMAAA,CAAA,iBAAc,CAAC,GAAG,CAAC,uCAAuC,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB;YAChI,MAAM;gBACF;oBAAE,IAAI,4LAAA,CAAA,SAAM,CAAC,cAAc;gBAAC;aAC/B;QACL;IACJ;IACA,iBAAiB,SAAS,EAAE,MAAM,EAAE;QAChC,0NAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,SAAS;IACxC;AACJ;AACO,MAAM,mCAAmC,yLAAA,CAAA,gBAAa;IACzD,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,oCAAoC;YACrD,cAAc,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC;YAC9D,YAAY;gBACR;gBACA,SAAS,GAAG,qBAAqB;YACrC;QACJ;IACJ;IACA,iBAAiB,SAAS,EAAE,MAAM,EAAE;QAChC,0NAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,SAAS;IACxC;AACJ;AACO,MAAM,uCAAuC,yLAAA,CAAA,gBAAa;IAC7D,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,wCAAwC;YACzD,cAAc,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC;YAC9D,YAAY;gBACR;gBACA,SAAS,GAAG,mBAAmB;YACnC;QACJ;IACJ;IACA,iBAAiB,SAAS,EAAE,MAAM,EAAE;QAChC,0NAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,SAAS;IACxC;AACJ;AACO,MAAM,6BAA6B,yLAAA,CAAA,gBAAa;IACnD,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,qCAAqC;YACtD,cAAc,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC;YAC9D,YAAY;gBACR;gBACA,SAAS,EAAE,iBAAiB;YAChC;QACJ;IACJ;IACA,iBAAiB,SAAS,EAAE,MAAM,EAAE;QAChC,0NAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,SAAS;IACxC;AACJ;AACO,MAAM,qBAAqB,yLAAA,CAAA,gBAAa;IAC3C,aAAc;QACV,KAAK,CAAC;YACF,IAAI;YACJ,OAAO,CAAA,GAAA,uKAAA,CAAA,YAAS,AAAD,EAAE,sBAAsB;YACvC,cAAc,yLAAA,CAAA,oBAAiB,CAAC,mBAAmB,CAAC,SAAS,CAAC;YAC9D,YAAY;gBACR;gBACA,SAAS,EAAE,kBAAkB;YACjC;QACJ;IACJ;IACA,iBAAiB,SAAS,EAAE,MAAM,EAAE;QAChC,0NAAA,CAAA,yBAAsB,CAAC,GAAG,CAAC,SAAS;IACxC;AACJ","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1762, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/stickyScroll/browser/stickyScrollContribution.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { registerEditorContribution } from '../../../browser/editorExtensions.js';\nimport { ToggleStickyScroll, FocusStickyScroll, SelectEditor, SelectPreviousStickyScrollLine, SelectNextStickyScrollLine, GoToStickyScrollLine } from './stickyScrollActions.js';\nimport { StickyScrollController } from './stickyScrollController.js';\nimport { registerAction2 } from '../../../../platform/actions/common/actions.js';\nregisterEditorContribution(StickyScrollController.ID, StickyScrollController, 1 /* EditorContributionInstantiation.AfterFirstRender */);\nregisterAction2(ToggleStickyScroll);\nregisterAction2(FocusStickyScroll);\nregisterAction2(SelectPreviousStickyScrollLine);\nregisterAction2(SelectNextStickyScrollLine);\nregisterAction2(GoToStickyScrollLine);\nregisterAction2(SelectEditor);\n"],"names":[],"mappings":"AAAA;;;8FAG8F;AAC9F;AACA;AACA;AACA;;;;;AACA,CAAA,GAAA,yLAAA,CAAA,6BAA0B,AAAD,EAAE,0NAAA,CAAA,yBAAsB,CAAC,EAAE,EAAE,0NAAA,CAAA,yBAAsB,EAAE,EAAE,oDAAoD;AACpI,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,qBAAkB;AAClC,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,oBAAiB;AACjC,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,iCAA8B;AAC9C,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,6BAA0B;AAC1C,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,uBAAoB;AACpC,CAAA,GAAA,4LAAA,CAAA,kBAAe,AAAD,EAAE,uNAAA,CAAA,eAAY","ignoreList":[0],"debugId":null}}]
}