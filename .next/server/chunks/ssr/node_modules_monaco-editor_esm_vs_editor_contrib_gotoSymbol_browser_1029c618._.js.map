{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/clickLinkGesture.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { Emitter } from '../../../../../base/common/event.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport * as platform from '../../../../../base/common/platform.js';\nfunction hasModifier(e, modifier) {\n    return !!e[modifier];\n}\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkMouseEvent {\n    constructor(source, opts) {\n        this.target = source.target;\n        this.isLeftClick = source.event.leftButton;\n        this.isMiddleClick = source.event.middleButton;\n        this.isRightClick = source.event.rightButton;\n        this.hasTriggerModifier = hasModifier(source.event, opts.triggerModifier);\n        this.hasSideBySideModifier = hasModifier(source.event, opts.triggerSideBySideModifier);\n        this.isNoneOrSingleMouseDown = (source.event.detail <= 1);\n    }\n}\n/**\n * An event that encapsulates the various trigger modifiers logic needed for go to definition.\n */\nexport class ClickLinkKeyboardEvent {\n    constructor(source, opts) {\n        this.keyCodeIsTriggerKey = (source.keyCode === opts.triggerKey);\n        this.keyCodeIsSideBySideKey = (source.keyCode === opts.triggerSideBySideKey);\n        this.hasTriggerModifier = hasModifier(source, opts.triggerModifier);\n    }\n}\nexport class ClickLinkOptions {\n    constructor(triggerKey, triggerModifier, triggerSideBySideKey, triggerSideBySideModifier) {\n        this.triggerKey = triggerKey;\n        this.triggerModifier = triggerModifier;\n        this.triggerSideBySideKey = triggerSideBySideKey;\n        this.triggerSideBySideModifier = triggerSideBySideModifier;\n    }\n    equals(other) {\n        return (this.triggerKey === other.triggerKey\n            && this.triggerModifier === other.triggerModifier\n            && this.triggerSideBySideKey === other.triggerSideBySideKey\n            && this.triggerSideBySideModifier === other.triggerSideBySideModifier);\n    }\n}\nfunction createOptions(multiCursorModifier) {\n    if (multiCursorModifier === 'altKey') {\n        if (platform.isMacintosh) {\n            return new ClickLinkOptions(57 /* KeyCode.Meta */, 'metaKey', 6 /* KeyCode.Alt */, 'altKey');\n        }\n        return new ClickLinkOptions(5 /* KeyCode.Ctrl */, 'ctrlKey', 6 /* KeyCode.Alt */, 'altKey');\n    }\n    if (platform.isMacintosh) {\n        return new ClickLinkOptions(6 /* KeyCode.Alt */, 'altKey', 57 /* KeyCode.Meta */, 'metaKey');\n    }\n    return new ClickLinkOptions(6 /* KeyCode.Alt */, 'altKey', 5 /* KeyCode.Ctrl */, 'ctrlKey');\n}\nexport class ClickLinkGesture extends Disposable {\n    constructor(editor, opts) {\n        super();\n        this._onMouseMoveOrRelevantKeyDown = this._register(new Emitter());\n        this.onMouseMoveOrRelevantKeyDown = this._onMouseMoveOrRelevantKeyDown.event;\n        this._onExecute = this._register(new Emitter());\n        this.onExecute = this._onExecute.event;\n        this._onCancel = this._register(new Emitter());\n        this.onCancel = this._onCancel.event;\n        this._editor = editor;\n        this._extractLineNumberFromMouseEvent = opts?.extractLineNumberFromMouseEvent ?? ((e) => e.target.position ? e.target.position.lineNumber : 0);\n        this._opts = createOptions(this._editor.getOption(78 /* EditorOption.multiCursorModifier */));\n        this._lastMouseMoveEvent = null;\n        this._hasTriggerKeyOnMouseDown = false;\n        this._lineNumberOnMouseDown = 0;\n        this._register(this._editor.onDidChangeConfiguration((e) => {\n            if (e.hasChanged(78 /* EditorOption.multiCursorModifier */)) {\n                const newOpts = createOptions(this._editor.getOption(78 /* EditorOption.multiCursorModifier */));\n                if (this._opts.equals(newOpts)) {\n                    return;\n                }\n                this._opts = newOpts;\n                this._lastMouseMoveEvent = null;\n                this._hasTriggerKeyOnMouseDown = false;\n                this._lineNumberOnMouseDown = 0;\n                this._onCancel.fire();\n            }\n        }));\n        this._register(this._editor.onMouseMove((e) => this._onEditorMouseMove(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onMouseDown((e) => this._onEditorMouseDown(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onMouseUp((e) => this._onEditorMouseUp(new ClickLinkMouseEvent(e, this._opts))));\n        this._register(this._editor.onKeyDown((e) => this._onEditorKeyDown(new ClickLinkKeyboardEvent(e, this._opts))));\n        this._register(this._editor.onKeyUp((e) => this._onEditorKeyUp(new ClickLinkKeyboardEvent(e, this._opts))));\n        this._register(this._editor.onMouseDrag(() => this._resetHandler()));\n        this._register(this._editor.onDidChangeCursorSelection((e) => this._onDidChangeCursorSelection(e)));\n        this._register(this._editor.onDidChangeModel((e) => this._resetHandler()));\n        this._register(this._editor.onDidChangeModelContent(() => this._resetHandler()));\n        this._register(this._editor.onDidScrollChange((e) => {\n            if (e.scrollTopChanged || e.scrollLeftChanged) {\n                this._resetHandler();\n            }\n        }));\n    }\n    _onDidChangeCursorSelection(e) {\n        if (e.selection && e.selection.startColumn !== e.selection.endColumn) {\n            this._resetHandler(); // immediately stop this feature if the user starts to select (https://github.com/microsoft/vscode/issues/7827)\n        }\n    }\n    _onEditorMouseMove(mouseEvent) {\n        this._lastMouseMoveEvent = mouseEvent;\n        this._onMouseMoveOrRelevantKeyDown.fire([mouseEvent, null]);\n    }\n    _onEditorMouseDown(mouseEvent) {\n        // We need to record if we had the trigger key on mouse down because someone might select something in the editor\n        // holding the mouse down and then while mouse is down start to press Ctrl/Cmd to start a copy operation and then\n        // release the mouse button without wanting to do the navigation.\n        // With this flag we prevent goto definition if the mouse was down before the trigger key was pressed.\n        this._hasTriggerKeyOnMouseDown = mouseEvent.hasTriggerModifier;\n        this._lineNumberOnMouseDown = this._extractLineNumberFromMouseEvent(mouseEvent);\n    }\n    _onEditorMouseUp(mouseEvent) {\n        const currentLineNumber = this._extractLineNumberFromMouseEvent(mouseEvent);\n        if (this._hasTriggerKeyOnMouseDown && this._lineNumberOnMouseDown && this._lineNumberOnMouseDown === currentLineNumber) {\n            this._onExecute.fire(mouseEvent);\n        }\n    }\n    _onEditorKeyDown(e) {\n        if (this._lastMouseMoveEvent\n            && (e.keyCodeIsTriggerKey // User just pressed Ctrl/Cmd (normal goto definition)\n                || (e.keyCodeIsSideBySideKey && e.hasTriggerModifier) // User pressed Ctrl/Cmd+Alt (goto definition to the side)\n            )) {\n            this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent, e]);\n        }\n        else if (e.hasTriggerModifier) {\n            this._onCancel.fire(); // remove decorations if user holds another key with ctrl/cmd to prevent accident goto declaration\n        }\n    }\n    _onEditorKeyUp(e) {\n        if (e.keyCodeIsTriggerKey) {\n            this._onCancel.fire();\n        }\n    }\n    _resetHandler() {\n        this._lastMouseMoveEvent = null;\n        this._hasTriggerKeyOnMouseDown = false;\n        this._onCancel.fire();\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 164, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/referencesModel.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { onUnexpectedError } from '../../../../base/common/errors.js';\nimport { Emitter } from '../../../../base/common/event.js';\nimport { defaultGenerator } from '../../../../base/common/idGenerator.js';\nimport { dispose } from '../../../../base/common/lifecycle.js';\nimport { ResourceMap } from '../../../../base/common/map.js';\nimport { basename, extUri } from '../../../../base/common/resources.js';\nimport * as strings from '../../../../base/common/strings.js';\nimport { Range } from '../../../common/core/range.js';\nimport { localize } from '../../../../nls.js';\nexport class OneReference {\n    constructor(isProviderFirst, parent, link, _rangeCallback) {\n        this.isProviderFirst = isProviderFirst;\n        this.parent = parent;\n        this.link = link;\n        this._rangeCallback = _rangeCallback;\n        this.id = defaultGenerator.nextId();\n    }\n    get uri() {\n        return this.link.uri;\n    }\n    get range() {\n        return this._range ?? this.link.targetSelectionRange ?? this.link.range;\n    }\n    set range(value) {\n        this._range = value;\n        this._rangeCallback(this);\n    }\n    get ariaMessage() {\n        const preview = this.parent.getPreview(this)?.preview(this.range);\n        if (!preview) {\n            return localize('aria.oneReference', \"in {0} on line {1} at column {2}\", basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n        }\n        else {\n            return localize({ key: 'aria.oneReference.preview', comment: ['Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code'] }, \"{0} in {1} on line {2} at column {3}\", preview.value, basename(this.uri), this.range.startLineNumber, this.range.startColumn);\n        }\n    }\n}\nexport class FilePreview {\n    constructor(_modelReference) {\n        this._modelReference = _modelReference;\n    }\n    dispose() {\n        this._modelReference.dispose();\n    }\n    preview(range, n = 8) {\n        const model = this._modelReference.object.textEditorModel;\n        if (!model) {\n            return undefined;\n        }\n        const { startLineNumber, startColumn, endLineNumber, endColumn } = range;\n        const word = model.getWordUntilPosition({ lineNumber: startLineNumber, column: startColumn - n });\n        const beforeRange = new Range(startLineNumber, word.startColumn, startLineNumber, startColumn);\n        const afterRange = new Range(endLineNumber, endColumn, endLineNumber, 1073741824 /* Constants.MAX_SAFE_SMALL_INTEGER */);\n        const before = model.getValueInRange(beforeRange).replace(/^\\s+/, '');\n        const inside = model.getValueInRange(range);\n        const after = model.getValueInRange(afterRange).replace(/\\s+$/, '');\n        return {\n            value: before + inside + after,\n            highlight: { start: before.length, end: before.length + inside.length }\n        };\n    }\n}\nexport class FileReferences {\n    constructor(parent, uri) {\n        this.parent = parent;\n        this.uri = uri;\n        this.children = [];\n        this._previews = new ResourceMap();\n    }\n    dispose() {\n        dispose(this._previews.values());\n        this._previews.clear();\n    }\n    getPreview(child) {\n        return this._previews.get(child.uri);\n    }\n    get ariaMessage() {\n        const len = this.children.length;\n        if (len === 1) {\n            return localize('aria.fileReferences.1', \"1 symbol in {0}, full path {1}\", basename(this.uri), this.uri.fsPath);\n        }\n        else {\n            return localize('aria.fileReferences.N', \"{0} symbols in {1}, full path {2}\", len, basename(this.uri), this.uri.fsPath);\n        }\n    }\n    async resolve(textModelResolverService) {\n        if (this._previews.size !== 0) {\n            return this;\n        }\n        for (const child of this.children) {\n            if (this._previews.has(child.uri)) {\n                continue;\n            }\n            try {\n                const ref = await textModelResolverService.createModelReference(child.uri);\n                this._previews.set(child.uri, new FilePreview(ref));\n            }\n            catch (err) {\n                onUnexpectedError(err);\n            }\n        }\n        return this;\n    }\n}\nexport class ReferencesModel {\n    constructor(links, title) {\n        this.groups = [];\n        this.references = [];\n        this._onDidChangeReferenceRange = new Emitter();\n        this.onDidChangeReferenceRange = this._onDidChangeReferenceRange.event;\n        this._links = links;\n        this._title = title;\n        // grouping and sorting\n        const [providersFirst] = links;\n        links.sort(ReferencesModel._compareReferences);\n        let current;\n        for (const link of links) {\n            if (!current || !extUri.isEqual(current.uri, link.uri, true)) {\n                // new group\n                current = new FileReferences(this, link.uri);\n                this.groups.push(current);\n            }\n            // append, check for equality first!\n            if (current.children.length === 0 || ReferencesModel._compareReferences(link, current.children[current.children.length - 1]) !== 0) {\n                const oneRef = new OneReference(providersFirst === link, current, link, ref => this._onDidChangeReferenceRange.fire(ref));\n                this.references.push(oneRef);\n                current.children.push(oneRef);\n            }\n        }\n    }\n    dispose() {\n        dispose(this.groups);\n        this._onDidChangeReferenceRange.dispose();\n        this.groups.length = 0;\n    }\n    clone() {\n        return new ReferencesModel(this._links, this._title);\n    }\n    get title() {\n        return this._title;\n    }\n    get isEmpty() {\n        return this.groups.length === 0;\n    }\n    get ariaMessage() {\n        if (this.isEmpty) {\n            return localize('aria.result.0', \"No results found\");\n        }\n        else if (this.references.length === 1) {\n            return localize('aria.result.1', \"Found 1 symbol in {0}\", this.references[0].uri.fsPath);\n        }\n        else if (this.groups.length === 1) {\n            return localize('aria.result.n1', \"Found {0} symbols in {1}\", this.references.length, this.groups[0].uri.fsPath);\n        }\n        else {\n            return localize('aria.result.nm', \"Found {0} symbols in {1} files\", this.references.length, this.groups.length);\n        }\n    }\n    nextOrPreviousReference(reference, next) {\n        const { parent } = reference;\n        let idx = parent.children.indexOf(reference);\n        const childCount = parent.children.length;\n        const groupCount = parent.parent.groups.length;\n        if (groupCount === 1 || next && idx + 1 < childCount || !next && idx > 0) {\n            // cycling within one file\n            if (next) {\n                idx = (idx + 1) % childCount;\n            }\n            else {\n                idx = (idx + childCount - 1) % childCount;\n            }\n            return parent.children[idx];\n        }\n        idx = parent.parent.groups.indexOf(parent);\n        if (next) {\n            idx = (idx + 1) % groupCount;\n            return parent.parent.groups[idx].children[0];\n        }\n        else {\n            idx = (idx + groupCount - 1) % groupCount;\n            return parent.parent.groups[idx].children[parent.parent.groups[idx].children.length - 1];\n        }\n    }\n    nearestReference(resource, position) {\n        const nearest = this.references.map((ref, idx) => {\n            return {\n                idx,\n                prefixLen: strings.commonPrefixLength(ref.uri.toString(), resource.toString()),\n                offsetDist: Math.abs(ref.range.startLineNumber - position.lineNumber) * 100 + Math.abs(ref.range.startColumn - position.column)\n            };\n        }).sort((a, b) => {\n            if (a.prefixLen > b.prefixLen) {\n                return -1;\n            }\n            else if (a.prefixLen < b.prefixLen) {\n                return 1;\n            }\n            else if (a.offsetDist < b.offsetDist) {\n                return -1;\n            }\n            else if (a.offsetDist > b.offsetDist) {\n                return 1;\n            }\n            else {\n                return 0;\n            }\n        })[0];\n        if (nearest) {\n            return this.references[nearest.idx];\n        }\n        return undefined;\n    }\n    referenceAt(resource, position) {\n        for (const ref of this.references) {\n            if (ref.uri.toString() === resource.toString()) {\n                if (Range.containsPosition(ref.range, position)) {\n                    return ref;\n                }\n            }\n        }\n        return undefined;\n    }\n    firstReference() {\n        for (const ref of this.references) {\n            if (ref.isProviderFirst) {\n                return ref;\n            }\n        }\n        return this.references[0];\n    }\n    static _compareReferences(a, b) {\n        return extUri.compare(a.uri, b.uri) || Range.compareRangesUsingStarts(a.range, b.range);\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 422, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesTree.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar FileReferencesRenderer_1;\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { CountBadge } from '../../../../../base/browser/ui/countBadge/countBadge.js';\nimport { HighlightedLabel } from '../../../../../base/browser/ui/highlightedlabel/highlightedLabel.js';\nimport { IconLabel } from '../../../../../base/browser/ui/iconLabel/iconLabel.js';\nimport { createMatches, FuzzyScore } from '../../../../../base/common/filters.js';\nimport { Disposable } from '../../../../../base/common/lifecycle.js';\nimport { basename, dirname } from '../../../../../base/common/resources.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { localize } from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { defaultCountBadgeStyles } from '../../../../../platform/theme/browser/defaultStyles.js';\nimport { FileReferences, OneReference, ReferencesModel } from '../referencesModel.js';\nlet DataSource = class DataSource {\n    constructor(_resolverService) {\n        this._resolverService = _resolverService;\n    }\n    hasChildren(element) {\n        if (element instanceof ReferencesModel) {\n            return true;\n        }\n        if (element instanceof FileReferences) {\n            return true;\n        }\n        return false;\n    }\n    getChildren(element) {\n        if (element instanceof ReferencesModel) {\n            return element.groups;\n        }\n        if (element instanceof FileReferences) {\n            return element.resolve(this._resolverService).then(val => {\n                // if (element.failure) {\n                // \t// refresh the element on failure so that\n                // \t// we can update its rendering\n                // \treturn tree.refresh(element).then(() => val.children);\n                // }\n                return val.children;\n            });\n        }\n        throw new Error('bad tree');\n    }\n};\nDataSource = __decorate([\n    __param(0, ITextModelService)\n], DataSource);\nexport { DataSource };\n//#endregion\nexport class Delegate {\n    getHeight() {\n        return 23;\n    }\n    getTemplateId(element) {\n        if (element instanceof FileReferences) {\n            return FileReferencesRenderer.id;\n        }\n        else {\n            return OneReferenceRenderer.id;\n        }\n    }\n}\nlet StringRepresentationProvider = class StringRepresentationProvider {\n    constructor(_keybindingService) {\n        this._keybindingService = _keybindingService;\n    }\n    getKeyboardNavigationLabel(element) {\n        if (element instanceof OneReference) {\n            const parts = element.parent.getPreview(element)?.preview(element.range);\n            if (parts) {\n                return parts.value;\n            }\n        }\n        // FileReferences or unresolved OneReference\n        return basename(element.uri);\n    }\n};\nStringRepresentationProvider = __decorate([\n    __param(0, IKeybindingService)\n], StringRepresentationProvider);\nexport { StringRepresentationProvider };\nexport class IdentityProvider {\n    getId(element) {\n        return element instanceof OneReference ? element.id : element.uri;\n    }\n}\n//#region render: File\nlet FileReferencesTemplate = class FileReferencesTemplate extends Disposable {\n    constructor(container, _labelService) {\n        super();\n        this._labelService = _labelService;\n        const parent = document.createElement('div');\n        parent.classList.add('reference-file');\n        this.file = this._register(new IconLabel(parent, { supportHighlights: true }));\n        this.badge = new CountBadge(dom.append(parent, dom.$('.count')), {}, defaultCountBadgeStyles);\n        container.appendChild(parent);\n    }\n    set(element, matches) {\n        const parent = dirname(element.uri);\n        this.file.setLabel(this._labelService.getUriBasenameLabel(element.uri), this._labelService.getUriLabel(parent, { relative: true }), { title: this._labelService.getUriLabel(element.uri), matches });\n        const len = element.children.length;\n        this.badge.setCount(len);\n        if (len > 1) {\n            this.badge.setTitleFormat(localize('referencesCount', \"{0} references\", len));\n        }\n        else {\n            this.badge.setTitleFormat(localize('referenceCount', \"{0} reference\", len));\n        }\n    }\n};\nFileReferencesTemplate = __decorate([\n    __param(1, ILabelService)\n], FileReferencesTemplate);\nlet FileReferencesRenderer = class FileReferencesRenderer {\n    static { FileReferencesRenderer_1 = this; }\n    static { this.id = 'FileReferencesRenderer'; }\n    constructor(_instantiationService) {\n        this._instantiationService = _instantiationService;\n        this.templateId = FileReferencesRenderer_1.id;\n    }\n    renderTemplate(container) {\n        return this._instantiationService.createInstance(FileReferencesTemplate, container);\n    }\n    renderElement(node, index, template) {\n        template.set(node.element, createMatches(node.filterData));\n    }\n    disposeTemplate(templateData) {\n        templateData.dispose();\n    }\n};\nFileReferencesRenderer = FileReferencesRenderer_1 = __decorate([\n    __param(0, IInstantiationService)\n], FileReferencesRenderer);\nexport { FileReferencesRenderer };\n//#endregion\n//#region render: Reference\nclass OneReferenceTemplate extends Disposable {\n    constructor(container) {\n        super();\n        this.label = this._register(new HighlightedLabel(container));\n    }\n    set(element, score) {\n        const preview = element.parent.getPreview(element)?.preview(element.range);\n        if (!preview || !preview.value) {\n            // this means we FAILED to resolve the document or the value is the empty string\n            this.label.set(`${basename(element.uri)}:${element.range.startLineNumber + 1}:${element.range.startColumn + 1}`);\n        }\n        else {\n            // render search match as highlight unless\n            // we have score, then render the score\n            const { value, highlight } = preview;\n            if (score && !FuzzyScore.isDefault(score)) {\n                this.label.element.classList.toggle('referenceMatch', false);\n                this.label.set(value, createMatches(score));\n            }\n            else {\n                this.label.element.classList.toggle('referenceMatch', true);\n                this.label.set(value, [highlight]);\n            }\n        }\n    }\n}\nexport class OneReferenceRenderer {\n    constructor() {\n        this.templateId = OneReferenceRenderer.id;\n    }\n    static { this.id = 'OneReferenceRenderer'; }\n    renderTemplate(container) {\n        return new OneReferenceTemplate(container);\n    }\n    renderElement(node, index, templateData) {\n        templateData.set(node.element, node.filterData);\n    }\n    disposeTemplate(templateData) {\n        templateData.dispose();\n    }\n}\n//#endregion\nexport class AccessibilityProvider {\n    getWidgetAriaLabel() {\n        return localize('treeAriaLabel', \"References\");\n    }\n    getAriaLabel(element) {\n        return element.ariaMessage;\n    }\n}\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 662, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesWidget.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport * as dom from '../../../../../base/browser/dom.js';\nimport { Sizing, SplitView } from '../../../../../base/browser/ui/splitview/splitview.js';\nimport { Color } from '../../../../../base/common/color.js';\nimport { Emitter, Event } from '../../../../../base/common/event.js';\nimport { DisposableStore, dispose } from '../../../../../base/common/lifecycle.js';\nimport { Schemas } from '../../../../../base/common/network.js';\nimport { basenameOrAuthority, dirname } from '../../../../../base/common/resources.js';\nimport './referencesWidget.css';\nimport { EmbeddedCodeEditorWidget } from '../../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ModelDecorationOptions, TextModel } from '../../../../common/model/textModel.js';\nimport { PLAINTEXT_LANGUAGE_ID } from '../../../../common/languages/modesRegistry.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { AccessibilityProvider, DataSource, Delegate, FileReferencesRenderer, IdentityProvider, OneReferenceRenderer, StringRepresentationProvider } from './referencesTree.js';\nimport * as peekView from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../../platform/keybinding/common/keybinding.js';\nimport { ILabelService } from '../../../../../platform/label/common/label.js';\nimport { WorkbenchAsyncDataTree } from '../../../../../platform/list/browser/listService.js';\nimport { IThemeService } from '../../../../../platform/theme/common/themeService.js';\nimport { FileReferences, OneReference } from '../referencesModel.js';\nclass DecorationsManager {\n    static { this.DecorationOptions = ModelDecorationOptions.register({\n        description: 'reference-decoration',\n        stickiness: 1 /* TrackedRangeStickiness.NeverGrowsWhenTypingAtEdges */,\n        className: 'reference-decoration'\n    }); }\n    constructor(_editor, _model) {\n        this._editor = _editor;\n        this._model = _model;\n        this._decorations = new Map();\n        this._decorationIgnoreSet = new Set();\n        this._callOnDispose = new DisposableStore();\n        this._callOnModelChange = new DisposableStore();\n        this._callOnDispose.add(this._editor.onDidChangeModel(() => this._onModelChanged()));\n        this._onModelChanged();\n    }\n    dispose() {\n        this._callOnModelChange.dispose();\n        this._callOnDispose.dispose();\n        this.removeDecorations();\n    }\n    _onModelChanged() {\n        this._callOnModelChange.clear();\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const ref of this._model.references) {\n            if (ref.uri.toString() === model.uri.toString()) {\n                this._addDecorations(ref.parent);\n                return;\n            }\n        }\n    }\n    _addDecorations(reference) {\n        if (!this._editor.hasModel()) {\n            return;\n        }\n        this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(() => this._onDecorationChanged()));\n        const newDecorations = [];\n        const newDecorationsActualIndex = [];\n        for (let i = 0, len = reference.children.length; i < len; i++) {\n            const oneReference = reference.children[i];\n            if (this._decorationIgnoreSet.has(oneReference.id)) {\n                continue;\n            }\n            if (oneReference.uri.toString() !== this._editor.getModel().uri.toString()) {\n                continue;\n            }\n            newDecorations.push({\n                range: oneReference.range,\n                options: DecorationsManager.DecorationOptions\n            });\n            newDecorationsActualIndex.push(i);\n        }\n        this._editor.changeDecorations((changeAccessor) => {\n            const decorations = changeAccessor.deltaDecorations([], newDecorations);\n            for (let i = 0; i < decorations.length; i++) {\n                this._decorations.set(decorations[i], reference.children[newDecorationsActualIndex[i]]);\n            }\n        });\n    }\n    _onDecorationChanged() {\n        const toRemove = [];\n        const model = this._editor.getModel();\n        if (!model) {\n            return;\n        }\n        for (const [decorationId, reference] of this._decorations) {\n            const newRange = model.getDecorationRange(decorationId);\n            if (!newRange) {\n                continue;\n            }\n            let ignore = false;\n            if (Range.equalsRange(newRange, reference.range)) {\n                continue;\n            }\n            if (Range.spansMultipleLines(newRange)) {\n                ignore = true;\n            }\n            else {\n                const lineLength = reference.range.endColumn - reference.range.startColumn;\n                const newLineLength = newRange.endColumn - newRange.startColumn;\n                if (lineLength !== newLineLength) {\n                    ignore = true;\n                }\n            }\n            if (ignore) {\n                this._decorationIgnoreSet.add(reference.id);\n                toRemove.push(decorationId);\n            }\n            else {\n                reference.range = newRange;\n            }\n        }\n        for (let i = 0, len = toRemove.length; i < len; i++) {\n            this._decorations.delete(toRemove[i]);\n        }\n        this._editor.removeDecorations(toRemove);\n    }\n    removeDecorations() {\n        this._editor.removeDecorations([...this._decorations.keys()]);\n        this._decorations.clear();\n    }\n}\nexport class LayoutData {\n    constructor() {\n        this.ratio = 0.7;\n        this.heightInLines = 18;\n    }\n    static fromJSON(raw) {\n        let ratio;\n        let heightInLines;\n        try {\n            const data = JSON.parse(raw);\n            ratio = data.ratio;\n            heightInLines = data.heightInLines;\n        }\n        catch {\n            //\n        }\n        return {\n            ratio: ratio || 0.7,\n            heightInLines: heightInLines || 18\n        };\n    }\n}\nclass ReferencesTree extends WorkbenchAsyncDataTree {\n}\n/**\n * ZoneWidget that is shown inside the editor\n */\nlet ReferenceWidget = class ReferenceWidget extends peekView.PeekViewWidget {\n    constructor(editor, _defaultTreeKeyboardSupport, layoutData, themeService, _textModelResolverService, _instantiationService, _peekViewService, _uriLabel, _keybindingService) {\n        super(editor, { showFrame: false, showArrow: true, isResizeable: true, isAccessible: true, supportOnTitleClick: true }, _instantiationService);\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        this.layoutData = layoutData;\n        this._textModelResolverService = _textModelResolverService;\n        this._instantiationService = _instantiationService;\n        this._peekViewService = _peekViewService;\n        this._uriLabel = _uriLabel;\n        this._keybindingService = _keybindingService;\n        this._disposeOnNewModel = new DisposableStore();\n        this._callOnDispose = new DisposableStore();\n        this._onDidSelectReference = new Emitter();\n        this.onDidSelectReference = this._onDidSelectReference.event;\n        this._dim = new dom.Dimension(0, 0);\n        this._isClosing = false; // whether or not a dispose is already in progress\n        this._applyTheme(themeService.getColorTheme());\n        this._callOnDispose.add(themeService.onDidColorThemeChange(this._applyTheme.bind(this)));\n        this._peekViewService.addExclusiveWidget(editor, this);\n        this.create();\n    }\n    get isClosing() {\n        return this._isClosing;\n    }\n    dispose() {\n        this._isClosing = true;\n        this.setModel(undefined);\n        this._callOnDispose.dispose();\n        this._disposeOnNewModel.dispose();\n        dispose(this._preview);\n        dispose(this._previewNotAvailableMessage);\n        dispose(this._tree);\n        dispose(this._previewModelReference);\n        this._splitView.dispose();\n        super.dispose();\n    }\n    _applyTheme(theme) {\n        const borderColor = theme.getColor(peekView.peekViewBorder) || Color.transparent;\n        this.style({\n            arrowColor: borderColor,\n            frameColor: borderColor,\n            headerBackgroundColor: theme.getColor(peekView.peekViewTitleBackground) || Color.transparent,\n            primaryHeadingColor: theme.getColor(peekView.peekViewTitleForeground),\n            secondaryHeadingColor: theme.getColor(peekView.peekViewTitleInfoForeground)\n        });\n    }\n    show(where) {\n        super.show(where, this.layoutData.heightInLines || 18);\n    }\n    focusOnReferenceTree() {\n        this._tree.domFocus();\n    }\n    focusOnPreviewEditor() {\n        this._preview.focus();\n    }\n    isPreviewEditorFocused() {\n        return this._preview.hasTextFocus();\n    }\n    _onTitleClick(e) {\n        if (this._preview && this._preview.getModel()) {\n            this._onDidSelectReference.fire({\n                element: this._getFocusedReference(),\n                kind: e.ctrlKey || e.metaKey || e.altKey ? 'side' : 'open',\n                source: 'title'\n            });\n        }\n    }\n    _fillBody(containerElement) {\n        this.setCssClass('reference-zone-widget');\n        // message pane\n        this._messageContainer = dom.append(containerElement, dom.$('div.messages'));\n        dom.hide(this._messageContainer);\n        this._splitView = new SplitView(containerElement, { orientation: 1 /* Orientation.HORIZONTAL */ });\n        // editor\n        this._previewContainer = dom.append(containerElement, dom.$('div.preview.inline'));\n        const options = {\n            scrollBeyondLastLine: false,\n            scrollbar: {\n                verticalScrollbarSize: 14,\n                horizontal: 'auto',\n                useShadows: true,\n                verticalHasArrows: false,\n                horizontalHasArrows: false,\n                alwaysConsumeMouseWheel: true\n            },\n            overviewRulerLanes: 2,\n            fixedOverflowWidgets: true,\n            minimap: {\n                enabled: false\n            }\n        };\n        this._preview = this._instantiationService.createInstance(EmbeddedCodeEditorWidget, this._previewContainer, options, {}, this.editor);\n        dom.hide(this._previewContainer);\n        this._previewNotAvailableMessage = this._instantiationService.createInstance(TextModel, nls.localize('missingPreviewMessage', \"no preview available\"), PLAINTEXT_LANGUAGE_ID, TextModel.DEFAULT_CREATION_OPTIONS, null);\n        // tree\n        this._treeContainer = dom.append(containerElement, dom.$('div.ref-tree.inline'));\n        const treeOptions = {\n            keyboardSupport: this._defaultTreeKeyboardSupport,\n            accessibilityProvider: new AccessibilityProvider(),\n            keyboardNavigationLabelProvider: this._instantiationService.createInstance(StringRepresentationProvider),\n            identityProvider: new IdentityProvider(),\n            openOnSingleClick: true,\n            selectionNavigation: true,\n            overrideStyles: {\n                listBackground: peekView.peekViewResultsBackground\n            }\n        };\n        if (this._defaultTreeKeyboardSupport) {\n            // the tree will consume `Escape` and prevent the widget from closing\n            this._callOnDispose.add(dom.addStandardDisposableListener(this._treeContainer, 'keydown', (e) => {\n                if (e.equals(9 /* KeyCode.Escape */)) {\n                    this._keybindingService.dispatchEvent(e, e.target);\n                    e.stopPropagation();\n                }\n            }, true));\n        }\n        this._tree = this._instantiationService.createInstance(ReferencesTree, 'ReferencesWidget', this._treeContainer, new Delegate(), [\n            this._instantiationService.createInstance(FileReferencesRenderer),\n            this._instantiationService.createInstance(OneReferenceRenderer),\n        ], this._instantiationService.createInstance(DataSource), treeOptions);\n        // split stuff\n        this._splitView.addView({\n            onDidChange: Event.None,\n            element: this._previewContainer,\n            minimumSize: 200,\n            maximumSize: Number.MAX_VALUE,\n            layout: (width) => {\n                this._preview.layout({ height: this._dim.height, width });\n            }\n        }, Sizing.Distribute);\n        this._splitView.addView({\n            onDidChange: Event.None,\n            element: this._treeContainer,\n            minimumSize: 100,\n            maximumSize: Number.MAX_VALUE,\n            layout: (width) => {\n                this._treeContainer.style.height = `${this._dim.height}px`;\n                this._treeContainer.style.width = `${width}px`;\n                this._tree.layout(this._dim.height, width);\n            }\n        }, Sizing.Distribute);\n        this._disposables.add(this._splitView.onDidSashChange(() => {\n            if (this._dim.width) {\n                this.layoutData.ratio = this._splitView.getViewSize(0) / this._dim.width;\n            }\n        }, undefined));\n        // listen on selection and focus\n        const onEvent = (element, kind) => {\n            if (element instanceof OneReference) {\n                if (kind === 'show') {\n                    this._revealReference(element, false);\n                }\n                this._onDidSelectReference.fire({ element, kind, source: 'tree' });\n            }\n        };\n        this._disposables.add(this._tree.onDidOpen(e => {\n            if (e.sideBySide) {\n                onEvent(e.element, 'side');\n            }\n            else if (e.editorOptions.pinned) {\n                onEvent(e.element, 'goto');\n            }\n            else {\n                onEvent(e.element, 'show');\n            }\n        }));\n        dom.hide(this._treeContainer);\n    }\n    _onWidth(width) {\n        if (this._dim) {\n            this._doLayoutBody(this._dim.height, width);\n        }\n    }\n    _doLayoutBody(heightInPixel, widthInPixel) {\n        super._doLayoutBody(heightInPixel, widthInPixel);\n        this._dim = new dom.Dimension(widthInPixel, heightInPixel);\n        this.layoutData.heightInLines = this._viewZone ? this._viewZone.heightInLines : this.layoutData.heightInLines;\n        this._splitView.layout(widthInPixel);\n        this._splitView.resizeView(0, widthInPixel * this.layoutData.ratio);\n    }\n    setSelection(selection) {\n        return this._revealReference(selection, true).then(() => {\n            if (!this._model) {\n                // disposed\n                return;\n            }\n            // show in tree\n            this._tree.setSelection([selection]);\n            this._tree.setFocus([selection]);\n        });\n    }\n    setModel(newModel) {\n        // clean up\n        this._disposeOnNewModel.clear();\n        this._model = newModel;\n        if (this._model) {\n            return this._onNewModel();\n        }\n        return Promise.resolve();\n    }\n    _onNewModel() {\n        if (!this._model) {\n            return Promise.resolve(undefined);\n        }\n        if (this._model.isEmpty) {\n            this.setTitle('');\n            this._messageContainer.innerText = nls.localize('noResults', \"No results\");\n            dom.show(this._messageContainer);\n            return Promise.resolve(undefined);\n        }\n        dom.hide(this._messageContainer);\n        this._decorationsManager = new DecorationsManager(this._preview, this._model);\n        this._disposeOnNewModel.add(this._decorationsManager);\n        // listen on model changes\n        this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(reference => this._tree.rerender(reference)));\n        // listen on editor\n        this._disposeOnNewModel.add(this._preview.onMouseDown(e => {\n            const { event, target } = e;\n            if (event.detail !== 2) {\n                return;\n            }\n            const element = this._getFocusedReference();\n            if (!element) {\n                return;\n            }\n            this._onDidSelectReference.fire({\n                element: { uri: element.uri, range: target.range },\n                kind: (event.ctrlKey || event.metaKey || event.altKey) ? 'side' : 'open',\n                source: 'editor'\n            });\n        }));\n        // make sure things are rendered\n        this.container.classList.add('results-loaded');\n        dom.show(this._treeContainer);\n        dom.show(this._previewContainer);\n        this._splitView.layout(this._dim.width);\n        this.focusOnReferenceTree();\n        // pick input and a reference to begin with\n        return this._tree.setInput(this._model.groups.length === 1 ? this._model.groups[0] : this._model);\n    }\n    _getFocusedReference() {\n        const [element] = this._tree.getFocus();\n        if (element instanceof OneReference) {\n            return element;\n        }\n        else if (element instanceof FileReferences) {\n            if (element.children.length > 0) {\n                return element.children[0];\n            }\n        }\n        return undefined;\n    }\n    async revealReference(reference) {\n        await this._revealReference(reference, false);\n        this._onDidSelectReference.fire({ element: reference, kind: 'goto', source: 'tree' });\n    }\n    async _revealReference(reference, revealParent) {\n        // check if there is anything to do...\n        if (this._revealedReference === reference) {\n            return;\n        }\n        this._revealedReference = reference;\n        // Update widget header\n        if (reference.uri.scheme !== Schemas.inMemory) {\n            this.setTitle(basenameOrAuthority(reference.uri), this._uriLabel.getUriLabel(dirname(reference.uri)));\n        }\n        else {\n            this.setTitle(nls.localize('peekView.alternateTitle', \"References\"));\n        }\n        const promise = this._textModelResolverService.createModelReference(reference.uri);\n        if (this._tree.getInput() === reference.parent) {\n            this._tree.reveal(reference);\n        }\n        else {\n            if (revealParent) {\n                this._tree.reveal(reference.parent);\n            }\n            await this._tree.expand(reference.parent);\n            this._tree.reveal(reference);\n        }\n        const ref = await promise;\n        if (!this._model) {\n            // disposed\n            ref.dispose();\n            return;\n        }\n        dispose(this._previewModelReference);\n        // show in editor\n        const model = ref.object;\n        if (model) {\n            const scrollType = this._preview.getModel() === model.textEditorModel ? 0 /* ScrollType.Smooth */ : 1 /* ScrollType.Immediate */;\n            const sel = Range.lift(reference.range).collapseToStart();\n            this._previewModelReference = ref;\n            this._preview.setModel(model.textEditorModel);\n            this._preview.setSelection(sel);\n            this._preview.revealRangeInCenter(sel, scrollType);\n        }\n        else {\n            this._preview.setModel(this._previewNotAvailableMessage);\n            ref.dispose();\n        }\n    }\n};\nReferenceWidget = __decorate([\n    __param(3, IThemeService),\n    __param(4, ITextModelService),\n    __param(5, IInstantiationService),\n    __param(6, peekView.IPeekViewService),\n    __param(7, ILabelService),\n    __param(8, IKeybindingService)\n], ReferenceWidget);\nexport { ReferenceWidget };\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1194, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/peek/referencesController.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar ReferencesController_1;\nimport { createCancelablePromise } from '../../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { KeyChord } from '../../../../../base/common/keyCodes.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport { ICodeEditorService } from '../../../../browser/services/codeEditorService.js';\nimport { Position } from '../../../../common/core/position.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { getOuterEditor, PeekContext } from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { CommandsRegistry } from '../../../../../platform/commands/common/commands.js';\nimport { IConfigurationService } from '../../../../../platform/configuration/common/configuration.js';\nimport { ContextKeyExpr, IContextKeyService, RawContextKey } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../../platform/instantiation/common/instantiation.js';\nimport { KeybindingsRegistry } from '../../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { IListService, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse, WorkbenchTreeElementCanExpand } from '../../../../../platform/list/browser/listService.js';\nimport { INotificationService } from '../../../../../platform/notification/common/notification.js';\nimport { IStorageService } from '../../../../../platform/storage/common/storage.js';\nimport { OneReference } from '../referencesModel.js';\nimport { LayoutData, ReferenceWidget } from './referencesWidget.js';\nimport { EditorContextKeys } from '../../../../common/editorContextKeys.js';\nimport { InputFocusedContext } from '../../../../../platform/contextkey/common/contextkeys.js';\nexport const ctxReferenceSearchVisible = new RawContextKey('referenceSearchVisible', false, nls.localize('referenceSearchVisible', \"Whether reference peek is visible, like 'Peek References' or 'Peek Definition'\"));\nlet ReferencesController = class ReferencesController {\n    static { ReferencesController_1 = this; }\n    static { this.ID = 'editor.contrib.referencesController'; }\n    static get(editor) {\n        return editor.getContribution(ReferencesController_1.ID);\n    }\n    constructor(_defaultTreeKeyboardSupport, _editor, contextKeyService, _editorService, _notificationService, _instantiationService, _storageService, _configurationService) {\n        this._defaultTreeKeyboardSupport = _defaultTreeKeyboardSupport;\n        this._editor = _editor;\n        this._editorService = _editorService;\n        this._notificationService = _notificationService;\n        this._instantiationService = _instantiationService;\n        this._storageService = _storageService;\n        this._configurationService = _configurationService;\n        this._disposables = new DisposableStore();\n        this._requestIdPool = 0;\n        this._ignoreModelChangeEvent = false;\n        this._referenceSearchVisible = ctxReferenceSearchVisible.bindTo(contextKeyService);\n    }\n    dispose() {\n        this._referenceSearchVisible.reset();\n        this._disposables.dispose();\n        this._widget?.dispose();\n        this._model?.dispose();\n        this._widget = undefined;\n        this._model = undefined;\n    }\n    toggleWidget(range, modelPromise, peekMode) {\n        // close current widget and return early is position didn't change\n        let widgetPosition;\n        if (this._widget) {\n            widgetPosition = this._widget.position;\n        }\n        this.closeWidget();\n        if (!!widgetPosition && range.containsPosition(widgetPosition)) {\n            return;\n        }\n        this._peekMode = peekMode;\n        this._referenceSearchVisible.set(true);\n        // close the widget on model/mode changes\n        this._disposables.add(this._editor.onDidChangeModelLanguage(() => { this.closeWidget(); }));\n        this._disposables.add(this._editor.onDidChangeModel(() => {\n            if (!this._ignoreModelChangeEvent) {\n                this.closeWidget();\n            }\n        }));\n        const storageKey = 'peekViewLayout';\n        const data = LayoutData.fromJSON(this._storageService.get(storageKey, 0 /* StorageScope.PROFILE */, '{}'));\n        this._widget = this._instantiationService.createInstance(ReferenceWidget, this._editor, this._defaultTreeKeyboardSupport, data);\n        this._widget.setTitle(nls.localize('labelLoading', \"Loading...\"));\n        this._widget.show(range);\n        this._disposables.add(this._widget.onDidClose(() => {\n            modelPromise.cancel();\n            if (this._widget) {\n                this._storageService.store(storageKey, JSON.stringify(this._widget.layoutData), 0 /* StorageScope.PROFILE */, 1 /* StorageTarget.MACHINE */);\n                if (!this._widget.isClosing) {\n                    // to prevent calling this too many times, check whether it was already closing.\n                    this.closeWidget();\n                }\n                this._widget = undefined;\n            }\n            else {\n                this.closeWidget();\n            }\n        }));\n        this._disposables.add(this._widget.onDidSelectReference(event => {\n            const { element, kind } = event;\n            if (!element) {\n                return;\n            }\n            switch (kind) {\n                case 'open':\n                    if (event.source !== 'editor' || !this._configurationService.getValue('editor.stablePeek')) {\n                        // when stable peek is configured we don't close\n                        // the peek window on selecting the editor\n                        this.openReference(element, false, false);\n                    }\n                    break;\n                case 'side':\n                    this.openReference(element, true, false);\n                    break;\n                case 'goto':\n                    if (peekMode) {\n                        this._gotoReference(element, true);\n                    }\n                    else {\n                        this.openReference(element, false, true);\n                    }\n                    break;\n            }\n        }));\n        const requestId = ++this._requestIdPool;\n        modelPromise.then(model => {\n            // still current request? widget still open?\n            if (requestId !== this._requestIdPool || !this._widget) {\n                model.dispose();\n                return undefined;\n            }\n            this._model?.dispose();\n            this._model = model;\n            // show widget\n            return this._widget.setModel(this._model).then(() => {\n                if (this._widget && this._model && this._editor.hasModel()) { // might have been closed\n                    // set title\n                    if (!this._model.isEmpty) {\n                        this._widget.setMetaTitle(nls.localize('metaTitle.N', \"{0} ({1})\", this._model.title, this._model.references.length));\n                    }\n                    else {\n                        this._widget.setMetaTitle('');\n                    }\n                    // set 'best' selection\n                    const uri = this._editor.getModel().uri;\n                    const pos = new Position(range.startLineNumber, range.startColumn);\n                    const selection = this._model.nearestReference(uri, pos);\n                    if (selection) {\n                        return this._widget.setSelection(selection).then(() => {\n                            if (this._widget && this._editor.getOption(87 /* EditorOption.peekWidgetDefaultFocus */) === 'editor') {\n                                this._widget.focusOnPreviewEditor();\n                            }\n                        });\n                    }\n                }\n                return undefined;\n            });\n        }, error => {\n            this._notificationService.error(error);\n        });\n    }\n    changeFocusBetweenPreviewAndReferences() {\n        if (!this._widget) {\n            // can be called while still resolving...\n            return;\n        }\n        if (this._widget.isPreviewEditorFocused()) {\n            this._widget.focusOnReferenceTree();\n        }\n        else {\n            this._widget.focusOnPreviewEditor();\n        }\n    }\n    async goToNextOrPreviousReference(fwd) {\n        if (!this._editor.hasModel() || !this._model || !this._widget) {\n            // can be called while still resolving...\n            return;\n        }\n        const currentPosition = this._widget.position;\n        if (!currentPosition) {\n            return;\n        }\n        const source = this._model.nearestReference(this._editor.getModel().uri, currentPosition);\n        if (!source) {\n            return;\n        }\n        const target = this._model.nextOrPreviousReference(source, fwd);\n        const editorFocus = this._editor.hasTextFocus();\n        const previewEditorFocus = this._widget.isPreviewEditorFocused();\n        await this._widget.setSelection(target);\n        await this._gotoReference(target, false);\n        if (editorFocus) {\n            this._editor.focus();\n        }\n        else if (this._widget && previewEditorFocus) {\n            this._widget.focusOnPreviewEditor();\n        }\n    }\n    async revealReference(reference) {\n        if (!this._editor.hasModel() || !this._model || !this._widget) {\n            // can be called while still resolving...\n            return;\n        }\n        await this._widget.revealReference(reference);\n    }\n    closeWidget(focusEditor = true) {\n        this._widget?.dispose();\n        this._model?.dispose();\n        this._referenceSearchVisible.reset();\n        this._disposables.clear();\n        this._widget = undefined;\n        this._model = undefined;\n        if (focusEditor) {\n            this._editor.focus();\n        }\n        this._requestIdPool += 1; // Cancel pending requests\n    }\n    _gotoReference(ref, pinned) {\n        this._widget?.hide();\n        this._ignoreModelChangeEvent = true;\n        const range = Range.lift(ref.range).collapseToStart();\n        return this._editorService.openCodeEditor({\n            resource: ref.uri,\n            options: { selection: range, selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */, pinned }\n        }, this._editor).then(openedEditor => {\n            this._ignoreModelChangeEvent = false;\n            if (!openedEditor || !this._widget) {\n                // something went wrong...\n                this.closeWidget();\n                return;\n            }\n            if (this._editor === openedEditor) {\n                //\n                this._widget.show(range);\n                this._widget.focusOnReferenceTree();\n            }\n            else {\n                // we opened a different editor instance which means a different controller instance.\n                // therefore we stop with this controller and continue with the other\n                const other = ReferencesController_1.get(openedEditor);\n                const model = this._model.clone();\n                this.closeWidget();\n                openedEditor.focus();\n                other?.toggleWidget(range, createCancelablePromise(_ => Promise.resolve(model)), this._peekMode ?? false);\n            }\n        }, (err) => {\n            this._ignoreModelChangeEvent = false;\n            onUnexpectedError(err);\n        });\n    }\n    openReference(ref, sideBySide, pinned) {\n        // clear stage\n        if (!sideBySide) {\n            this.closeWidget();\n        }\n        const { uri, range } = ref;\n        this._editorService.openCodeEditor({\n            resource: uri,\n            options: { selection: range, selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */, pinned }\n        }, this._editor, sideBySide);\n    }\n};\nReferencesController = ReferencesController_1 = __decorate([\n    __param(2, IContextKeyService),\n    __param(3, ICodeEditorService),\n    __param(4, INotificationService),\n    __param(5, IInstantiationService),\n    __param(6, IStorageService),\n    __param(7, IConfigurationService)\n], ReferencesController);\nexport { ReferencesController };\nfunction withController(accessor, fn) {\n    const outerEditor = getOuterEditor(accessor);\n    if (!outerEditor) {\n        return;\n    }\n    const controller = ReferencesController.get(outerEditor);\n    if (controller) {\n        fn(controller);\n    }\n}\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'togglePeekWidgetFocus',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 60 /* KeyCode.F2 */),\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.changeFocusBetweenPreviewAndReferences();\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToNextReference',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 10,\n    primary: 62 /* KeyCode.F4 */,\n    secondary: [70 /* KeyCode.F12 */],\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.goToNextOrPreviousReference(true);\n        });\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'goToPreviousReference',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 10,\n    primary: 1024 /* KeyMod.Shift */ | 62 /* KeyCode.F4 */,\n    secondary: [1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */],\n    when: ContextKeyExpr.or(ctxReferenceSearchVisible, PeekContext.inPeekEditor),\n    handler(accessor) {\n        withController(accessor, controller => {\n            controller.goToNextOrPreviousReference(false);\n        });\n    }\n});\n// commands that aren't needed anymore because there is now ContextKeyExpr.OR\nCommandsRegistry.registerCommandAlias('goToNextReferenceFromEmbeddedEditor', 'goToNextReference');\nCommandsRegistry.registerCommandAlias('goToPreviousReferenceFromEmbeddedEditor', 'goToPreviousReference');\n// close\nCommandsRegistry.registerCommandAlias('closeReferenceSearchEditor', 'closeReferenceSearch');\nCommandsRegistry.registerCommand('closeReferenceSearch', accessor => withController(accessor, controller => controller.closeWidget()));\nKeybindingsRegistry.registerKeybindingRule({\n    id: 'closeReferenceSearch',\n    weight: 100 /* KeybindingWeight.EditorContrib */ - 101,\n    primary: 9 /* KeyCode.Escape */,\n    secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */],\n    when: ContextKeyExpr.and(PeekContext.inPeekEditor, ContextKeyExpr.not('config.editor.stablePeek'))\n});\nKeybindingsRegistry.registerKeybindingRule({\n    id: 'closeReferenceSearch',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */ + 50,\n    primary: 9 /* KeyCode.Escape */,\n    secondary: [1024 /* KeyMod.Shift */ | 9 /* KeyCode.Escape */],\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, ContextKeyExpr.not('config.editor.stablePeek'), ContextKeyExpr.or(EditorContextKeys.editorTextFocus, InputFocusedContext.negate()))\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'revealReference',\n    weight: 200 /* KeybindingWeight.WorkbenchContrib */,\n    primary: 3 /* KeyCode.Enter */,\n    mac: {\n        primary: 3 /* KeyCode.Enter */,\n        secondary: [2048 /* KeyMod.CtrlCmd */ | 18 /* KeyCode.DownArrow */]\n    },\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n    handler(accessor) {\n        const listService = accessor.get(IListService);\n        const focus = listService.lastFocusedList?.getFocus();\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n            withController(accessor, controller => controller.revealReference(focus[0]));\n        }\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'openReferenceToSide',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    primary: 2048 /* KeyMod.CtrlCmd */ | 3 /* KeyCode.Enter */,\n    mac: {\n        primary: 256 /* KeyMod.WinCtrl */ | 3 /* KeyCode.Enter */\n    },\n    when: ContextKeyExpr.and(ctxReferenceSearchVisible, WorkbenchListFocusContextKey, WorkbenchTreeElementCanCollapse.negate(), WorkbenchTreeElementCanExpand.negate()),\n    handler(accessor) {\n        const listService = accessor.get(IListService);\n        const focus = listService.lastFocusedList?.getFocus();\n        if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n            withController(accessor, controller => controller.openReference(focus[0], true, true));\n        }\n    }\n});\nCommandsRegistry.registerCommand('openReference', (accessor) => {\n    const listService = accessor.get(IListService);\n    const focus = listService.lastFocusedList?.getFocus();\n    if (Array.isArray(focus) && focus[0] instanceof OneReference) {\n        withController(accessor, controller => controller.openReference(focus[0], false, true));\n    }\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1624, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/symbolNavigation.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nimport { Emitter } from '../../../../base/common/event.js';\nimport { combinedDisposable, DisposableStore, dispose } from '../../../../base/common/lifecycle.js';\nimport { isEqual } from '../../../../base/common/resources.js';\nimport { EditorCommand, registerEditorCommand } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { Range } from '../../../common/core/range.js';\nimport { localize } from '../../../../nls.js';\nimport { IContextKeyService, RawContextKey } from '../../../../platform/contextkey/common/contextkey.js';\nimport { registerSingleton } from '../../../../platform/instantiation/common/extensions.js';\nimport { createDecorator } from '../../../../platform/instantiation/common/instantiation.js';\nimport { IKeybindingService } from '../../../../platform/keybinding/common/keybinding.js';\nimport { KeybindingsRegistry } from '../../../../platform/keybinding/common/keybindingsRegistry.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nexport const ctxHasSymbols = new RawContextKey('hasSymbols', false, localize('hasSymbols', \"Whether there are symbol locations that can be navigated via keyboard-only.\"));\nexport const ISymbolNavigationService = createDecorator('ISymbolNavigationService');\nlet SymbolNavigationService = class SymbolNavigationService {\n    constructor(contextKeyService, _editorService, _notificationService, _keybindingService) {\n        this._editorService = _editorService;\n        this._notificationService = _notificationService;\n        this._keybindingService = _keybindingService;\n        this._currentModel = undefined;\n        this._currentIdx = -1;\n        this._ignoreEditorChange = false;\n        this._ctxHasSymbols = ctxHasSymbols.bindTo(contextKeyService);\n    }\n    reset() {\n        this._ctxHasSymbols.reset();\n        this._currentState?.dispose();\n        this._currentMessage?.dispose();\n        this._currentModel = undefined;\n        this._currentIdx = -1;\n    }\n    put(anchor) {\n        const refModel = anchor.parent.parent;\n        if (refModel.references.length <= 1) {\n            this.reset();\n            return;\n        }\n        this._currentModel = refModel;\n        this._currentIdx = refModel.references.indexOf(anchor);\n        this._ctxHasSymbols.set(true);\n        this._showMessage();\n        const editorState = new EditorState(this._editorService);\n        const listener = editorState.onDidChange(_ => {\n            if (this._ignoreEditorChange) {\n                return;\n            }\n            const editor = this._editorService.getActiveCodeEditor();\n            if (!editor) {\n                return;\n            }\n            const model = editor.getModel();\n            const position = editor.getPosition();\n            if (!model || !position) {\n                return;\n            }\n            let seenUri = false;\n            let seenPosition = false;\n            for (const reference of refModel.references) {\n                if (isEqual(reference.uri, model.uri)) {\n                    seenUri = true;\n                    seenPosition = seenPosition || Range.containsPosition(reference.range, position);\n                }\n                else if (seenUri) {\n                    break;\n                }\n            }\n            if (!seenUri || !seenPosition) {\n                this.reset();\n            }\n        });\n        this._currentState = combinedDisposable(editorState, listener);\n    }\n    revealNext(source) {\n        if (!this._currentModel) {\n            return Promise.resolve();\n        }\n        // get next result and advance\n        this._currentIdx += 1;\n        this._currentIdx %= this._currentModel.references.length;\n        const reference = this._currentModel.references[this._currentIdx];\n        // status\n        this._showMessage();\n        // open editor, ignore events while that happens\n        this._ignoreEditorChange = true;\n        return this._editorService.openCodeEditor({\n            resource: reference.uri,\n            options: {\n                selection: Range.collapseToStart(reference.range),\n                selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */\n            }\n        }, source).finally(() => {\n            this._ignoreEditorChange = false;\n        });\n    }\n    _showMessage() {\n        this._currentMessage?.dispose();\n        const kb = this._keybindingService.lookupKeybinding('editor.gotoNextSymbolFromResult');\n        const message = kb\n            ? localize('location.kb', \"Symbol {0} of {1}, {2} for next\", this._currentIdx + 1, this._currentModel.references.length, kb.getLabel())\n            : localize('location', \"Symbol {0} of {1}\", this._currentIdx + 1, this._currentModel.references.length);\n        this._currentMessage = this._notificationService.status(message);\n    }\n};\nSymbolNavigationService = __decorate([\n    __param(0, IContextKeyService),\n    __param(1, ICodeEditorService),\n    __param(2, INotificationService),\n    __param(3, IKeybindingService)\n], SymbolNavigationService);\nregisterSingleton(ISymbolNavigationService, SymbolNavigationService, 1 /* InstantiationType.Delayed */);\nregisterEditorCommand(new class extends EditorCommand {\n    constructor() {\n        super({\n            id: 'editor.gotoNextSymbolFromResult',\n            precondition: ctxHasSymbols,\n            kbOpts: {\n                weight: 100 /* KeybindingWeight.EditorContrib */,\n                primary: 70 /* KeyCode.F12 */\n            }\n        });\n    }\n    runEditorCommand(accessor, editor) {\n        return accessor.get(ISymbolNavigationService).revealNext(editor);\n    }\n});\nKeybindingsRegistry.registerCommandAndKeybindingRule({\n    id: 'editor.gotoNextSymbolFromResult.cancel',\n    weight: 100 /* KeybindingWeight.EditorContrib */,\n    when: ctxHasSymbols,\n    primary: 9 /* KeyCode.Escape */,\n    handler(accessor) {\n        accessor.get(ISymbolNavigationService).reset();\n    }\n});\n//\nlet EditorState = class EditorState {\n    constructor(editorService) {\n        this._listener = new Map();\n        this._disposables = new DisposableStore();\n        this._onDidChange = new Emitter();\n        this.onDidChange = this._onDidChange.event;\n        this._disposables.add(editorService.onCodeEditorRemove(this._onDidRemoveEditor, this));\n        this._disposables.add(editorService.onCodeEditorAdd(this._onDidAddEditor, this));\n        editorService.listCodeEditors().forEach(this._onDidAddEditor, this);\n    }\n    dispose() {\n        this._disposables.dispose();\n        this._onDidChange.dispose();\n        dispose(this._listener.values());\n    }\n    _onDidAddEditor(editor) {\n        this._listener.set(editor, combinedDisposable(editor.onDidChangeCursorPosition(_ => this._onDidChange.fire({ editor })), editor.onDidChangeModelContent(_ => this._onDidChange.fire({ editor }))));\n    }\n    _onDidRemoveEditor(editor) {\n        this._listener.get(editor)?.dispose();\n        this._listener.delete(editor);\n    }\n};\nEditorState = __decorate([\n    __param(0, ICodeEditorService)\n], EditorState);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1825, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToSymbol.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { coalesce } from '../../../../base/common/arrays.js';\nimport { CancellationToken } from '../../../../base/common/cancellation.js';\nimport { onUnexpectedExternalError } from '../../../../base/common/errors.js';\nimport { matchesSomeScheme, Schemas } from '../../../../base/common/network.js';\nimport { registerModelAndPositionCommand } from '../../../browser/editorExtensions.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { ReferencesModel } from './referencesModel.js';\nfunction shouldIncludeLocationLink(sourceModel, loc) {\n    // Always allow the location if the request comes from a document with the same scheme.\n    if (loc.uri.scheme === sourceModel.uri.scheme) {\n        return true;\n    }\n    // Otherwise filter out locations from internal schemes\n    if (matchesSomeScheme(loc.uri, Schemas.walkThroughSnippet, Schemas.vscodeChatCodeBlock, Schemas.vscodeChatCodeCompareBlock)) {\n        return false;\n    }\n    return true;\n}\nasync function getLocationLinks(model, position, registry, recursive, provide) {\n    const provider = registry.ordered(model, recursive);\n    // get results\n    const promises = provider.map((provider) => {\n        return Promise.resolve(provide(provider, model, position)).then(undefined, err => {\n            onUnexpectedExternalError(err);\n            return undefined;\n        });\n    });\n    const values = await Promise.all(promises);\n    return coalesce(values.flat()).filter(loc => shouldIncludeLocationLink(model, loc));\n}\nexport function getDefinitionsAtPosition(registry, model, position, recursive, token) {\n    return getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n        return provider.provideDefinition(model, position, token);\n    });\n}\nexport function getDeclarationsAtPosition(registry, model, position, recursive, token) {\n    return getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n        return provider.provideDeclaration(model, position, token);\n    });\n}\nexport function getImplementationsAtPosition(registry, model, position, recursive, token) {\n    return getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n        return provider.provideImplementation(model, position, token);\n    });\n}\nexport function getTypeDefinitionsAtPosition(registry, model, position, recursive, token) {\n    return getLocationLinks(model, position, registry, recursive, (provider, model, position) => {\n        return provider.provideTypeDefinition(model, position, token);\n    });\n}\nexport function getReferencesAtPosition(registry, model, position, compact, recursive, token) {\n    return getLocationLinks(model, position, registry, recursive, async (provider, model, position) => {\n        const result = (await provider.provideReferences(model, position, { includeDeclaration: true }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n        if (!compact || !result || result.length !== 2) {\n            return result;\n        }\n        const resultWithoutDeclaration = (await provider.provideReferences(model, position, { includeDeclaration: false }, token))?.filter(ref => shouldIncludeLocationLink(model, ref));\n        if (resultWithoutDeclaration && resultWithoutDeclaration.length === 1) {\n            return resultWithoutDeclaration;\n        }\n        return result;\n    });\n}\n// -- API commands ----\nasync function _sortedAndDeduped(callback) {\n    const rawLinks = await callback();\n    const model = new ReferencesModel(rawLinks, '');\n    const modelLinks = model.references.map(ref => ref.link);\n    model.dispose();\n    return modelLinks;\n}\nregisterModelAndPositionCommand('_executeDefinitionProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDefinitionProvider_recursive', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, true, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeTypeDefinitionProvider_recursive', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, true, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDeclarationProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeDeclarationProvider_recursive', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, true, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeReferenceProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeReferenceProvider_recursive', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, true, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeImplementationProvider', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\nregisterModelAndPositionCommand('_executeImplementationProvider_recursive', (accessor, model, position) => {\n    const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n    const promise = getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, true, CancellationToken.None);\n    return _sortedAndDeduped(() => promise);\n});\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 1973, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/goToCommands.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nimport { alert } from '../../../../base/browser/ui/aria/aria.js';\nimport { createCancelablePromise, raceCancellation } from '../../../../base/common/async.js';\nimport { KeyChord } from '../../../../base/common/keyCodes.js';\nimport { assertType } from '../../../../base/common/types.js';\nimport { URI } from '../../../../base/common/uri.js';\nimport { EditorStateCancellationTokenSource } from '../../editorState/browser/editorState.js';\nimport { isCodeEditor } from '../../../browser/editorBrowser.js';\nimport { EditorAction2 } from '../../../browser/editorExtensions.js';\nimport { ICodeEditorService } from '../../../browser/services/codeEditorService.js';\nimport { EmbeddedCodeEditorWidget } from '../../../browser/widget/codeEditor/embeddedCodeEditorWidget.js';\nimport * as corePosition from '../../../common/core/position.js';\nimport { Range } from '../../../common/core/range.js';\nimport { EditorContextKeys } from '../../../common/editorContextKeys.js';\nimport { isLocationLink } from '../../../common/languages.js';\nimport { ReferencesController } from './peek/referencesController.js';\nimport { ReferencesModel } from './referencesModel.js';\nimport { ISymbolNavigationService } from './symbolNavigation.js';\nimport { MessageController } from '../../message/browser/messageController.js';\nimport { PeekContext } from '../../peekView/browser/peekView.js';\nimport * as nls from '../../../../nls.js';\nimport { MenuId, MenuRegistry, registerAction2 } from '../../../../platform/actions/common/actions.js';\nimport { CommandsRegistry, ICommandService } from '../../../../platform/commands/common/commands.js';\nimport { ContextKeyExpr } from '../../../../platform/contextkey/common/contextkey.js';\nimport { IInstantiationService } from '../../../../platform/instantiation/common/instantiation.js';\nimport { INotificationService } from '../../../../platform/notification/common/notification.js';\nimport { IEditorProgressService } from '../../../../platform/progress/common/progress.js';\nimport { getDeclarationsAtPosition, getDefinitionsAtPosition, getImplementationsAtPosition, getReferencesAtPosition, getTypeDefinitionsAtPosition } from './goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../common/services/languageFeatures.js';\nimport { Iterable } from '../../../../base/common/iterator.js';\nimport { IsWebContext } from '../../../../platform/contextkey/common/contextkeys.js';\nMenuRegistry.appendMenuItem(MenuId.EditorContext, {\n    submenu: MenuId.EditorContextPeek,\n    title: nls.localize('peek.submenu', \"Peek\"),\n    group: 'navigation',\n    order: 100\n});\nexport class SymbolNavigationAnchor {\n    static is(thing) {\n        if (!thing || typeof thing !== 'object') {\n            return false;\n        }\n        if (thing instanceof SymbolNavigationAnchor) {\n            return true;\n        }\n        if (corePosition.Position.isIPosition(thing.position) && thing.model) {\n            return true;\n        }\n        return false;\n    }\n    constructor(model, position) {\n        this.model = model;\n        this.position = position;\n    }\n}\nexport class SymbolNavigationAction extends EditorAction2 {\n    static { this._allSymbolNavigationCommands = new Map(); }\n    static { this._activeAlternativeCommands = new Set(); }\n    static all() {\n        return SymbolNavigationAction._allSymbolNavigationCommands.values();\n    }\n    static _patchConfig(opts) {\n        const result = { ...opts, f1: true };\n        // patch context menu when clause\n        if (result.menu) {\n            for (const item of Iterable.wrap(result.menu)) {\n                if (item.id === MenuId.EditorContext || item.id === MenuId.EditorContextPeek) {\n                    item.when = ContextKeyExpr.and(opts.precondition, item.when);\n                }\n            }\n        }\n        return result;\n    }\n    constructor(configuration, opts) {\n        super(SymbolNavigationAction._patchConfig(opts));\n        this.configuration = configuration;\n        SymbolNavigationAction._allSymbolNavigationCommands.set(opts.id, this);\n    }\n    runEditorCommand(accessor, editor, arg, range) {\n        if (!editor.hasModel()) {\n            return Promise.resolve(undefined);\n        }\n        const notificationService = accessor.get(INotificationService);\n        const editorService = accessor.get(ICodeEditorService);\n        const progressService = accessor.get(IEditorProgressService);\n        const symbolNavService = accessor.get(ISymbolNavigationService);\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const instaService = accessor.get(IInstantiationService);\n        const model = editor.getModel();\n        const position = editor.getPosition();\n        const anchor = SymbolNavigationAnchor.is(arg) ? arg : new SymbolNavigationAnchor(model, position);\n        const cts = new EditorStateCancellationTokenSource(editor, 1 /* CodeEditorStateFlag.Value */ | 4 /* CodeEditorStateFlag.Position */);\n        const promise = raceCancellation(this._getLocationModel(languageFeaturesService, anchor.model, anchor.position, cts.token), cts.token).then(async (references) => {\n            if (!references || cts.token.isCancellationRequested) {\n                return;\n            }\n            alert(references.ariaMessage);\n            let altAction;\n            if (references.referenceAt(model.uri, position)) {\n                const altActionId = this._getAlternativeCommand(editor);\n                if (!SymbolNavigationAction._activeAlternativeCommands.has(altActionId) && SymbolNavigationAction._allSymbolNavigationCommands.has(altActionId)) {\n                    altAction = SymbolNavigationAction._allSymbolNavigationCommands.get(altActionId);\n                }\n            }\n            const referenceCount = references.references.length;\n            if (referenceCount === 0) {\n                // no result -> show message\n                if (!this.configuration.muteMessage) {\n                    const info = model.getWordAtPosition(position);\n                    MessageController.get(editor)?.showMessage(this._getNoResultFoundMessage(info), position);\n                }\n            }\n            else if (referenceCount === 1 && altAction) {\n                // already at the only result, run alternative\n                SymbolNavigationAction._activeAlternativeCommands.add(this.desc.id);\n                instaService.invokeFunction((accessor) => altAction.runEditorCommand(accessor, editor, arg, range).finally(() => {\n                    SymbolNavigationAction._activeAlternativeCommands.delete(this.desc.id);\n                }));\n            }\n            else {\n                // normal results handling\n                return this._onResult(editorService, symbolNavService, editor, references, range);\n            }\n        }, (err) => {\n            // report an error\n            notificationService.error(err);\n        }).finally(() => {\n            cts.dispose();\n        });\n        progressService.showWhile(promise, 250);\n        return promise;\n    }\n    async _onResult(editorService, symbolNavService, editor, model, range) {\n        const gotoLocation = this._getGoToPreference(editor);\n        if (!(editor instanceof EmbeddedCodeEditorWidget) && (this.configuration.openInPeek || (gotoLocation === 'peek' && model.references.length > 1))) {\n            this._openInPeek(editor, model, range);\n        }\n        else {\n            const next = model.firstReference();\n            const peek = model.references.length > 1 && gotoLocation === 'gotoAndPeek';\n            const targetEditor = await this._openReference(editor, editorService, next, this.configuration.openToSide, !peek);\n            if (peek && targetEditor) {\n                this._openInPeek(targetEditor, model, range);\n            }\n            else {\n                model.dispose();\n            }\n            // keep remaining locations around when using\n            // 'goto'-mode\n            if (gotoLocation === 'goto') {\n                symbolNavService.put(next);\n            }\n        }\n    }\n    async _openReference(editor, editorService, reference, sideBySide, highlight) {\n        // range is the target-selection-range when we have one\n        // and the fallback is the 'full' range\n        let range = undefined;\n        if (isLocationLink(reference)) {\n            range = reference.targetSelectionRange;\n        }\n        if (!range) {\n            range = reference.range;\n        }\n        if (!range) {\n            return undefined;\n        }\n        const targetEditor = await editorService.openCodeEditor({\n            resource: reference.uri,\n            options: {\n                selection: Range.collapseToStart(range),\n                selectionRevealType: 3 /* TextEditorSelectionRevealType.NearTopIfOutsideViewport */,\n                selectionSource: \"code.jump\" /* TextEditorSelectionSource.JUMP */\n            }\n        }, editor, sideBySide);\n        if (!targetEditor) {\n            return undefined;\n        }\n        if (highlight) {\n            const modelNow = targetEditor.getModel();\n            const decorations = targetEditor.createDecorationsCollection([{ range, options: { description: 'symbol-navigate-action-highlight', className: 'symbolHighlight' } }]);\n            setTimeout(() => {\n                if (targetEditor.getModel() === modelNow) {\n                    decorations.clear();\n                }\n            }, 350);\n        }\n        return targetEditor;\n    }\n    _openInPeek(target, model, range) {\n        const controller = ReferencesController.get(target);\n        if (controller && target.hasModel()) {\n            controller.toggleWidget(range ?? target.getSelection(), createCancelablePromise(_ => Promise.resolve(model)), this.configuration.openInPeek);\n        }\n        else {\n            model.dispose();\n        }\n    }\n}\n//#region --- DEFINITION\nexport class DefinitionAction extends SymbolNavigationAction {\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getDefinitionsAtPosition(languageFeaturesService.definitionProvider, model, position, false, token), nls.localize('def.title', 'Definitions'));\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('noResultWord', \"No definition found for '{0}'\", info.word)\n            : nls.localize('generic.noResults', \"No definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDefinitions;\n    }\n}\nregisterAction2(class GoToDefinitionAction extends DefinitionAction {\n    static { this.id = 'editor.action.revealDefinition'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: GoToDefinitionAction.id,\n            title: {\n                ...nls.localize2('actions.goToDecl.label', \"Go to Definition\"),\n                mnemonicTitle: nls.localize({ key: 'miGotoDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Definition\"),\n            },\n            precondition: EditorContextKeys.hasDefinitionProvider,\n            keybinding: [{\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }, {\n                    when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                    primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }],\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.1\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 2,\n                }]\n        });\n        CommandsRegistry.registerCommandAlias('editor.action.goToDeclaration', GoToDefinitionAction.id);\n    }\n});\nregisterAction2(class OpenDefinitionToSideAction extends DefinitionAction {\n    static { this.id = 'editor.action.revealDefinitionAside'; }\n    constructor() {\n        super({\n            openToSide: true,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: OpenDefinitionToSideAction.id,\n            title: nls.localize2('actions.goToDeclToSide.label', \"Open Definition to the Side\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            keybinding: [{\n                    when: EditorContextKeys.editorTextFocus,\n                    primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 70 /* KeyCode.F12 */),\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }, {\n                    when: ContextKeyExpr.and(EditorContextKeys.editorTextFocus, IsWebContext),\n                    primary: KeyChord(2048 /* KeyMod.CtrlCmd */ | 41 /* KeyCode.KeyK */, 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */),\n                    weight: 100 /* KeybindingWeight.EditorContrib */\n                }]\n        });\n        CommandsRegistry.registerCommandAlias('editor.action.openDeclarationToTheSide', OpenDefinitionToSideAction.id);\n    }\n});\nregisterAction2(class PeekDefinitionAction extends DefinitionAction {\n    static { this.id = 'editor.action.peekDefinition'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: PeekDefinitionAction.id,\n            title: nls.localize2('actions.previewDecl.label', \"Peek Definition\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 512 /* KeyMod.Alt */ | 70 /* KeyCode.F12 */,\n                linux: { primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 68 /* KeyCode.F10 */ },\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 2\n            }\n        });\n        CommandsRegistry.registerCommandAlias('editor.action.previewDeclaration', PeekDefinitionAction.id);\n    }\n});\n//#endregion\n//#region --- DECLARATION\nclass DeclarationAction extends SymbolNavigationAction {\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getDeclarationsAtPosition(languageFeaturesService.declarationProvider, model, position, false, token), nls.localize('decl.title', 'Declarations'));\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeDeclarationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleDeclarations;\n    }\n}\nregisterAction2(class GoToDeclarationAction extends DeclarationAction {\n    static { this.id = 'editor.action.revealDeclaration'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: GoToDeclarationAction.id,\n            title: {\n                ...nls.localize2('actions.goToDeclaration.label', \"Go to Declaration\"),\n                mnemonicTitle: nls.localize({ key: 'miGotoDeclaration', comment: ['&& denotes a mnemonic'] }, \"Go to &&Declaration\"),\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.3\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 3,\n                }],\n        });\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('decl.noResultWord', \"No declaration found for '{0}'\", info.word)\n            : nls.localize('decl.generic.noResults', \"No declaration found\");\n    }\n});\nregisterAction2(class PeekDeclarationAction extends DeclarationAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.peekDeclaration',\n            title: nls.localize2('actions.peekDecl.label', \"Peek Declaration\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasDeclarationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 3\n            }\n        });\n    }\n});\n//#endregion\n//#region --- TYPE DEFINITION\nclass TypeDefinitionAction extends SymbolNavigationAction {\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getTypeDefinitionsAtPosition(languageFeaturesService.typeDefinitionProvider, model, position, false, token), nls.localize('typedef.title', 'Type Definitions'));\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToTypeDefinition.noResultWord', \"No type definition found for '{0}'\", info.word)\n            : nls.localize('goToTypeDefinition.generic.noResults', \"No type definition found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeTypeDefinitionCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleTypeDefinitions;\n    }\n}\nregisterAction2(class GoToTypeDefinitionAction extends TypeDefinitionAction {\n    static { this.ID = 'editor.action.goToTypeDefinition'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: GoToTypeDefinitionAction.ID,\n            title: {\n                ...nls.localize2('actions.goToTypeDefinition.label', \"Go to Type Definition\"),\n                mnemonicTitle: nls.localize({ key: 'miGotoTypeDefinition', comment: ['&& denotes a mnemonic'] }, \"Go to &&Type Definition\"),\n            },\n            precondition: EditorContextKeys.hasTypeDefinitionProvider,\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 0,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.4\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 3,\n                }]\n        });\n    }\n});\nregisterAction2(class PeekTypeDefinitionAction extends TypeDefinitionAction {\n    static { this.ID = 'editor.action.peekTypeDefinition'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: PeekTypeDefinitionAction.ID,\n            title: nls.localize2('actions.peekTypeDefinition.label', \"Peek Type Definition\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasTypeDefinitionProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 4\n            }\n        });\n    }\n});\n//#endregion\n//#region --- IMPLEMENTATION\nclass ImplementationAction extends SymbolNavigationAction {\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getImplementationsAtPosition(languageFeaturesService.implementationProvider, model, position, false, token), nls.localize('impl.title', 'Implementations'));\n    }\n    _getNoResultFoundMessage(info) {\n        return info && info.word\n            ? nls.localize('goToImplementation.noResultWord', \"No implementation found for '{0}'\", info.word)\n            : nls.localize('goToImplementation.generic.noResults', \"No implementation found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeImplementationCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleImplementations;\n    }\n}\nregisterAction2(class GoToImplementationAction extends ImplementationAction {\n    static { this.ID = 'editor.action.goToImplementation'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: GoToImplementationAction.ID,\n            title: {\n                ...nls.localize2('actions.goToImplementation.label', \"Go to Implementations\"),\n                mnemonicTitle: nls.localize({ key: 'miGotoImplementation', comment: ['&& denotes a mnemonic'] }, \"Go to &&Implementations\"),\n            },\n            precondition: EditorContextKeys.hasImplementationProvider,\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 70 /* KeyCode.F12 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.45\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 4,\n                }]\n        });\n    }\n});\nregisterAction2(class PeekImplementationAction extends ImplementationAction {\n    static { this.ID = 'editor.action.peekImplementation'; }\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: PeekImplementationAction.ID,\n            title: nls.localize2('actions.peekImplementation.label', \"Peek Implementations\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasImplementationProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 2048 /* KeyMod.CtrlCmd */ | 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 5\n            }\n        });\n    }\n});\n//#endregion\n//#region --- REFERENCES\nclass ReferencesAction extends SymbolNavigationAction {\n    _getNoResultFoundMessage(info) {\n        return info\n            ? nls.localize('references.no', \"No references found for '{0}'\", info.word)\n            : nls.localize('references.noGeneric', \"No references found\");\n    }\n    _getAlternativeCommand(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).alternativeReferenceCommand;\n    }\n    _getGoToPreference(editor) {\n        return editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n}\nregisterAction2(class GoToReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: false,\n            muteMessage: false\n        }, {\n            id: 'editor.action.goToReferences',\n            title: {\n                ...nls.localize2('goToReferences.label', \"Go to References\"),\n                mnemonicTitle: nls.localize({ key: 'miGotoReference', comment: ['&& denotes a mnemonic'] }, \"Go to &&References\"),\n            },\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            keybinding: {\n                when: EditorContextKeys.editorTextFocus,\n                primary: 1024 /* KeyMod.Shift */ | 70 /* KeyCode.F12 */,\n                weight: 100 /* KeybindingWeight.EditorContrib */\n            },\n            menu: [{\n                    id: MenuId.EditorContext,\n                    group: 'navigation',\n                    order: 1.45\n                }, {\n                    id: MenuId.MenubarGoMenu,\n                    precondition: null,\n                    group: '4_symbol_nav',\n                    order: 5,\n                }]\n        });\n    }\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, true, false, token), nls.localize('ref.title', 'References'));\n    }\n});\nregisterAction2(class PeekReferencesAction extends ReferencesAction {\n    constructor() {\n        super({\n            openToSide: false,\n            openInPeek: true,\n            muteMessage: false\n        }, {\n            id: 'editor.action.referenceSearch.trigger',\n            title: nls.localize2('references.action.label', \"Peek References\"),\n            precondition: ContextKeyExpr.and(EditorContextKeys.hasReferenceProvider, PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n            menu: {\n                id: MenuId.EditorContextPeek,\n                group: 'peek',\n                order: 6\n            }\n        });\n    }\n    async _getLocationModel(languageFeaturesService, model, position, token) {\n        return new ReferencesModel(await getReferencesAtPosition(languageFeaturesService.referenceProvider, model, position, false, false, token), nls.localize('ref.title', 'References'));\n    }\n});\n//#endregion\n//#region --- GENERIC goto symbols command\nclass GenericGoToLocationAction extends SymbolNavigationAction {\n    constructor(config, _references, _gotoMultipleBehaviour) {\n        super(config, {\n            id: 'editor.action.goToLocation',\n            title: nls.localize2('label.generic', \"Go to Any Symbol\"),\n            precondition: ContextKeyExpr.and(PeekContext.notInPeekEditor, EditorContextKeys.isInEmbeddedEditor.toNegated()),\n        });\n        this._references = _references;\n        this._gotoMultipleBehaviour = _gotoMultipleBehaviour;\n    }\n    async _getLocationModel(languageFeaturesService, _model, _position, _token) {\n        return new ReferencesModel(this._references, nls.localize('generic.title', 'Locations'));\n    }\n    _getNoResultFoundMessage(info) {\n        return info && nls.localize('generic.noResult', \"No results for '{0}'\", info.word) || '';\n    }\n    _getGoToPreference(editor) {\n        return this._gotoMultipleBehaviour ?? editor.getOption(58 /* EditorOption.gotoLocation */).multipleReferences;\n    }\n    _getAlternativeCommand() { return ''; }\n}\nCommandsRegistry.registerCommand({\n    id: 'editor.action.goToLocations',\n    metadata: {\n        description: 'Go to locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n            { name: 'noResultsMessage', description: 'Human readable message that shows when locations is empty.' },\n        ]\n    },\n    handler: async (accessor, resource, position, references, multiple, noResultsMessage, openInPeek) => {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        assertType(Array.isArray(references));\n        assertType(typeof multiple === 'undefined' || typeof multiple === 'string');\n        assertType(typeof openInPeek === 'undefined' || typeof openInPeek === 'boolean');\n        const editorService = accessor.get(ICodeEditorService);\n        const editor = await editorService.openCodeEditor({ resource }, editorService.getFocusedCodeEditor());\n        if (isCodeEditor(editor)) {\n            editor.setPosition(position);\n            editor.revealPositionInCenterIfOutsideViewport(position, 0 /* ScrollType.Smooth */);\n            return editor.invokeWithinContext(accessor => {\n                const command = new class extends GenericGoToLocationAction {\n                    _getNoResultFoundMessage(info) {\n                        return noResultsMessage || super._getNoResultFoundMessage(info);\n                    }\n                }({\n                    muteMessage: !Boolean(noResultsMessage),\n                    openInPeek: Boolean(openInPeek),\n                    openToSide: false\n                }, references, multiple);\n                accessor.get(IInstantiationService).invokeFunction(command.run.bind(command), editor);\n            });\n        }\n    }\n});\nCommandsRegistry.registerCommand({\n    id: 'editor.action.peekLocations',\n    metadata: {\n        description: 'Peek locations from a position in a file',\n        args: [\n            { name: 'uri', description: 'The text document in which to start', constraint: URI },\n            { name: 'position', description: 'The position at which to start', constraint: corePosition.Position.isIPosition },\n            { name: 'locations', description: 'An array of locations.', constraint: Array },\n            { name: 'multiple', description: 'Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto`' },\n        ]\n    },\n    handler: async (accessor, resource, position, references, multiple) => {\n        accessor.get(ICommandService).executeCommand('editor.action.goToLocations', resource, position, references, multiple, undefined, true);\n    }\n});\n//#endregion\n//#region --- REFERENCE search special commands\nCommandsRegistry.registerCommand({\n    id: 'editor.action.findReferences',\n    handler: (accessor, resource, position) => {\n        assertType(URI.isUri(resource));\n        assertType(corePosition.Position.isIPosition(position));\n        const languageFeaturesService = accessor.get(ILanguageFeaturesService);\n        const codeEditorService = accessor.get(ICodeEditorService);\n        return codeEditorService.openCodeEditor({ resource }, codeEditorService.getFocusedCodeEditor()).then(control => {\n            if (!isCodeEditor(control) || !control.hasModel()) {\n                return undefined;\n            }\n            const controller = ReferencesController.get(control);\n            if (!controller) {\n                return undefined;\n            }\n            const references = createCancelablePromise(token => getReferencesAtPosition(languageFeaturesService.referenceProvider, control.getModel(), corePosition.Position.lift(position), false, false, token).then(references => new ReferencesModel(references, nls.localize('ref.title', 'References'))));\n            const range = new Range(position.lineNumber, position.column, position.lineNumber, position.column);\n            return Promise.resolve(controller.toggleWidget(range, references, false));\n        });\n    }\n});\n// use NEW command\nCommandsRegistry.registerCommandAlias('editor.action.showReferences', 'editor.action.peekLocations');\n//#endregion\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 2802, "column": 0}, "map": {"version":3,"sources":["file:///Users/oscarthroedsson/Documents/code/myownprojects/JSONFloat/node_modules/monaco-editor/esm/vs/editor/contrib/gotoSymbol/browser/link/goToDefinitionAtPosition.js"],"sourcesContent":["/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar __decorate = (this && this.__decorate) || function (decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __param = (this && this.__param) || function (paramIndex, decorator) {\n    return function (target, key) { decorator(target, key, paramIndex); }\n};\nvar GotoDefinitionAtPositionEditorContribution_1;\nimport { createCancelablePromise } from '../../../../../base/common/async.js';\nimport { onUnexpectedError } from '../../../../../base/common/errors.js';\nimport { MarkdownString } from '../../../../../base/common/htmlContent.js';\nimport { DisposableStore } from '../../../../../base/common/lifecycle.js';\nimport './goToDefinitionAtPosition.css';\nimport { EditorState } from '../../../editorState/browser/editorState.js';\nimport { registerEditorContribution } from '../../../../browser/editorExtensions.js';\nimport { Range } from '../../../../common/core/range.js';\nimport { ILanguageService } from '../../../../common/languages/language.js';\nimport { ITextModelService } from '../../../../common/services/resolverService.js';\nimport { ClickLinkGesture } from './clickLinkGesture.js';\nimport { PeekContext } from '../../../peekView/browser/peekView.js';\nimport * as nls from '../../../../../nls.js';\nimport { IContextKeyService } from '../../../../../platform/contextkey/common/contextkey.js';\nimport { DefinitionAction } from '../goToCommands.js';\nimport { getDefinitionsAtPosition } from '../goToSymbol.js';\nimport { ILanguageFeaturesService } from '../../../../common/services/languageFeatures.js';\nimport { ModelDecorationInjectedTextOptions } from '../../../../common/model/textModel.js';\nlet GotoDefinitionAtPositionEditorContribution = class GotoDefinitionAtPositionEditorContribution {\n    static { GotoDefinitionAtPositionEditorContribution_1 = this; }\n    static { this.ID = 'editor.contrib.gotodefinitionatposition'; }\n    static { this.MAX_SOURCE_PREVIEW_LINES = 8; }\n    constructor(editor, textModelResolverService, languageService, languageFeaturesService) {\n        this.textModelResolverService = textModelResolverService;\n        this.languageService = languageService;\n        this.languageFeaturesService = languageFeaturesService;\n        this.toUnhook = new DisposableStore();\n        this.toUnhookForKeyboard = new DisposableStore();\n        this.currentWordAtPosition = null;\n        this.previousPromise = null;\n        this.editor = editor;\n        this.linkDecorations = this.editor.createDecorationsCollection();\n        const linkGesture = new ClickLinkGesture(editor);\n        this.toUnhook.add(linkGesture);\n        this.toUnhook.add(linkGesture.onMouseMoveOrRelevantKeyDown(([mouseEvent, keyboardEvent]) => {\n            this.startFindDefinitionFromMouse(mouseEvent, keyboardEvent ?? undefined);\n        }));\n        this.toUnhook.add(linkGesture.onExecute((mouseEvent) => {\n            if (this.isEnabled(mouseEvent)) {\n                this.gotoDefinition(mouseEvent.target.position, mouseEvent.hasSideBySideModifier)\n                    .catch((error) => {\n                    onUnexpectedError(error);\n                })\n                    .finally(() => {\n                    this.removeLinkDecorations();\n                });\n            }\n        }));\n        this.toUnhook.add(linkGesture.onCancel(() => {\n            this.removeLinkDecorations();\n            this.currentWordAtPosition = null;\n        }));\n    }\n    static get(editor) {\n        return editor.getContribution(GotoDefinitionAtPositionEditorContribution_1.ID);\n    }\n    async startFindDefinitionFromCursor(position) {\n        // For issue: https://github.com/microsoft/vscode/issues/46257\n        // equivalent to mouse move with meta/ctrl key\n        // First find the definition and add decorations\n        // to the editor to be shown with the content hover widget\n        await this.startFindDefinition(position);\n        // Add listeners for editor cursor move and key down events\n        // Dismiss the \"extended\" editor decorations when the user hides\n        // the hover widget. There is no event for the widget itself so these\n        // serve as a best effort. After removing the link decorations, the hover\n        // widget is clean and will only show declarations per next request.\n        this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(() => {\n            this.currentWordAtPosition = null;\n            this.removeLinkDecorations();\n            this.toUnhookForKeyboard.clear();\n        }));\n        this.toUnhookForKeyboard.add(this.editor.onKeyDown((e) => {\n            if (e) {\n                this.currentWordAtPosition = null;\n                this.removeLinkDecorations();\n                this.toUnhookForKeyboard.clear();\n            }\n        }));\n    }\n    startFindDefinitionFromMouse(mouseEvent, withKey) {\n        // check if we are active and on a content widget\n        if (mouseEvent.target.type === 9 /* MouseTargetType.CONTENT_WIDGET */ && this.linkDecorations.length > 0) {\n            return;\n        }\n        if (!this.editor.hasModel() || !this.isEnabled(mouseEvent, withKey)) {\n            this.currentWordAtPosition = null;\n            this.removeLinkDecorations();\n            return;\n        }\n        const position = mouseEvent.target.position;\n        this.startFindDefinition(position);\n    }\n    async startFindDefinition(position) {\n        // Dispose listeners for updating decorations when using keyboard to show definition hover\n        this.toUnhookForKeyboard.clear();\n        // Find word at mouse position\n        const word = position ? this.editor.getModel()?.getWordAtPosition(position) : null;\n        if (!word) {\n            this.currentWordAtPosition = null;\n            this.removeLinkDecorations();\n            return;\n        }\n        // Return early if word at position is still the same\n        if (this.currentWordAtPosition && this.currentWordAtPosition.startColumn === word.startColumn && this.currentWordAtPosition.endColumn === word.endColumn && this.currentWordAtPosition.word === word.word) {\n            return;\n        }\n        this.currentWordAtPosition = word;\n        // Find definition and decorate word if found\n        const state = new EditorState(this.editor, 4 /* CodeEditorStateFlag.Position */ | 1 /* CodeEditorStateFlag.Value */ | 2 /* CodeEditorStateFlag.Selection */ | 8 /* CodeEditorStateFlag.Scroll */);\n        if (this.previousPromise) {\n            this.previousPromise.cancel();\n            this.previousPromise = null;\n        }\n        this.previousPromise = createCancelablePromise(token => this.findDefinition(position, token));\n        let results;\n        try {\n            results = await this.previousPromise;\n        }\n        catch (error) {\n            onUnexpectedError(error);\n            return;\n        }\n        if (!results || !results.length || !state.validate(this.editor)) {\n            this.removeLinkDecorations();\n            return;\n        }\n        const linkRange = results[0].originSelectionRange\n            ? Range.lift(results[0].originSelectionRange)\n            : new Range(position.lineNumber, word.startColumn, position.lineNumber, word.endColumn);\n        // Multiple results\n        if (results.length > 1) {\n            let combinedRange = linkRange;\n            for (const { originSelectionRange } of results) {\n                if (originSelectionRange) {\n                    combinedRange = Range.plusRange(combinedRange, originSelectionRange);\n                }\n            }\n            this.addDecoration(combinedRange, new MarkdownString().appendText(nls.localize('multipleResults', \"Click to show {0} definitions.\", results.length)));\n        }\n        else {\n            // Single result\n            const result = results[0];\n            if (!result.uri) {\n                return;\n            }\n            this.textModelResolverService.createModelReference(result.uri).then(ref => {\n                if (!ref.object || !ref.object.textEditorModel) {\n                    ref.dispose();\n                    return;\n                }\n                const { object: { textEditorModel } } = ref;\n                const { startLineNumber } = result.range;\n                if (startLineNumber < 1 || startLineNumber > textEditorModel.getLineCount()) {\n                    // invalid range\n                    ref.dispose();\n                    return;\n                }\n                const previewValue = this.getPreviewValue(textEditorModel, startLineNumber, result);\n                const languageId = this.languageService.guessLanguageIdByFilepathOrFirstLine(textEditorModel.uri);\n                this.addDecoration(linkRange, previewValue ? new MarkdownString().appendCodeblock(languageId ? languageId : '', previewValue) : undefined);\n                ref.dispose();\n            });\n        }\n    }\n    getPreviewValue(textEditorModel, startLineNumber, result) {\n        let rangeToUse = result.range;\n        const numberOfLinesInRange = rangeToUse.endLineNumber - rangeToUse.startLineNumber;\n        if (numberOfLinesInRange >= GotoDefinitionAtPositionEditorContribution_1.MAX_SOURCE_PREVIEW_LINES) {\n            rangeToUse = this.getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber);\n        }\n        const previewValue = this.stripIndentationFromPreviewRange(textEditorModel, startLineNumber, rangeToUse);\n        return previewValue;\n    }\n    stripIndentationFromPreviewRange(textEditorModel, startLineNumber, previewRange) {\n        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n        let minIndent = startIndent;\n        for (let endLineNumber = startLineNumber + 1; endLineNumber < previewRange.endLineNumber; endLineNumber++) {\n            const endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n            minIndent = Math.min(minIndent, endIndent);\n        }\n        const previewValue = textEditorModel.getValueInRange(previewRange).replace(new RegExp(`^\\\\s{${minIndent - 1}}`, 'gm'), '').trim();\n        return previewValue;\n    }\n    getPreviewRangeBasedOnIndentation(textEditorModel, startLineNumber) {\n        const startIndent = textEditorModel.getLineFirstNonWhitespaceColumn(startLineNumber);\n        const maxLineNumber = Math.min(textEditorModel.getLineCount(), startLineNumber + GotoDefinitionAtPositionEditorContribution_1.MAX_SOURCE_PREVIEW_LINES);\n        let endLineNumber = startLineNumber + 1;\n        for (; endLineNumber < maxLineNumber; endLineNumber++) {\n            const endIndent = textEditorModel.getLineFirstNonWhitespaceColumn(endLineNumber);\n            if (startIndent === endIndent) {\n                break;\n            }\n        }\n        return new Range(startLineNumber, 1, endLineNumber + 1, 1);\n    }\n    addDecoration(range, hoverMessage) {\n        const newDecorations = {\n            range: range,\n            options: {\n                description: 'goto-definition-link',\n                inlineClassName: 'goto-definition-link',\n                hoverMessage\n            }\n        };\n        this.linkDecorations.set([newDecorations]);\n    }\n    removeLinkDecorations() {\n        this.linkDecorations.clear();\n    }\n    isEnabled(mouseEvent, withKey) {\n        return this.editor.hasModel()\n            && mouseEvent.isLeftClick\n            && mouseEvent.isNoneOrSingleMouseDown\n            && mouseEvent.target.type === 6 /* MouseTargetType.CONTENT_TEXT */\n            && !(mouseEvent.target.detail.injectedText?.options instanceof ModelDecorationInjectedTextOptions)\n            && (mouseEvent.hasTriggerModifier || (withKey ? withKey.keyCodeIsTriggerKey : false))\n            && this.languageFeaturesService.definitionProvider.has(this.editor.getModel());\n    }\n    findDefinition(position, token) {\n        const model = this.editor.getModel();\n        if (!model) {\n            return Promise.resolve(null);\n        }\n        return getDefinitionsAtPosition(this.languageFeaturesService.definitionProvider, model, position, false, token);\n    }\n    gotoDefinition(position, openToSide) {\n        this.editor.setPosition(position);\n        return this.editor.invokeWithinContext((accessor) => {\n            const canPeek = !openToSide && this.editor.getOption(89 /* EditorOption.definitionLinkOpensInPeek */) && !this.isInPeekEditor(accessor);\n            const action = new DefinitionAction({ openToSide, openInPeek: canPeek, muteMessage: true }, { title: { value: '', original: '' }, id: '', precondition: undefined });\n            return action.run(accessor);\n        });\n    }\n    isInPeekEditor(accessor) {\n        const contextKeyService = accessor.get(IContextKeyService);\n        return PeekContext.inPeekEditor.getValue(contextKeyService);\n    }\n    dispose() {\n        this.toUnhook.dispose();\n        this.toUnhookForKeyboard.dispose();\n    }\n};\nGotoDefinitionAtPositionEditorContribution = GotoDefinitionAtPositionEditorContribution_1 = __decorate([\n    __param(1, ITextModelService),\n    __param(2, ILanguageService),\n    __param(3, ILanguageFeaturesService)\n], GotoDefinitionAtPositionEditorContribution);\nexport { GotoDefinitionAtPositionEditorContribution };\nregisterEditorContribution(GotoDefinitionAtPositionEditorContribution.ID, GotoDefinitionAtPositionEditorContribution, 2 /* EditorContributionInstantiation.BeforeFirstInteraction */);\n"],"names":[],"mappings":"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","ignoreList":[0],"debugId":null}}]
}